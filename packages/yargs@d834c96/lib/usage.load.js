montageDefine("d834c96","lib/usage",{dependencies:["cliui","decamelize","window-size"],factory:function(n,e,i){var t=n("cliui"),r=n("decamelize"),o=n("window-size");i.exports=function(n){function e(n){var e=0;return Array.isArray(n)||(n=Object.keys(n).map(function(e){return[n[e]]})),n.forEach(function(n){e=Math.max(n[0].length,e)}),O&&(e=Math.min(e,parseInt(.5*O,10))),e}function i(){var e=n.getOptions(),i=n.getDemanded();(Object.keys(e.alias)||[]).forEach(function(t){e.alias[t].forEach(function(r){v[r]&&f.describe(t,v[r]),i[r]&&n.demand(t,i[r].msg),~e["boolean"].indexOf(r)&&n["boolean"](t),~e.count.indexOf(r)&&n.count(t),~e.string.indexOf(r)&&n.string(t),~e.normalize.indexOf(r)&&n.normalize(t),~e.array.indexOf(r)&&n.array(t)})})}function a(n,e){var i="[default: ";if(void 0===n)return null;if(e)i+=e;else switch(typeof n){case"string":i+=JSON.stringify(n);break;case"object":i+=JSON.stringify(n);break;default:i+=n}return i+"]"}function c(){return o.width?Math.min(80,o.width):null}var f={},u=[];f.failFn=function(n){u.push(n)};var s=null,l=!0;f.showHelpOnFail=function(n,e){return"string"==typeof n?(e=n,n=!0):"undefined"==typeof n&&(n=!0),s=e,l=n,f},f.fail=function(e){if(u.length)u.forEach(function(n){n(e)});else{if(l&&n.showHelp("error"),e&&console.error(e),s&&(e&&console.error(""),console.error(s)),!n.getExitProcess())throw new Error(e);process.exit(1)}};var d;f.usage=function(n){d=n};var g=[];f.example=function(n,e){g.push([n,e||""])};var p=[];f.command=function(n,e){p.push([n,e||""])},f.getCommands=function(){return p};var v={};f.describe=function(n,e){"object"==typeof n?Object.keys(n).forEach(function(e){f.describe(e,n[e])}):v[n]=e},f.getDescriptions=function(){return v};var h;f.epilog=function(n){h=n};var O=c();f.wrap=function(n){O=n},f.help=function(){i();var r=n.getDemanded(),o=n.getOptions(),c=Object.keys(Object.keys(v).concat(Object.keys(r)).concat(Object.keys(o["default"])).reduce(function(n,e){return"_"!==e&&(n[e]=!0),n},{})),f=t({width:O,wrap:!!O});if(d){var u=d.replace(/\$0/g,n.$0);f.div(u+"\n")}p.length&&(f.div("Commands:"),p.forEach(function(n){f.div({text:n[0],padding:[0,2,0,2],width:e(p)+4},{text:n[1]})}),f.div());var s=(Object.keys(o.alias)||[]).concat(Object.keys(n.parsed.newAliases)||[]);c=c.filter(function(e){return!n.parsed.newAliases[e]&&s.every(function(n){return(o.alias[n]||[]).indexOf(e)===-1})});var l=c.reduce(function(n,e){return n[e]=[e].concat(o.alias[e]||[]).map(function(n){return(n.length>1?"--":"-")+n}).join(", "),n},{});if(c.length&&(f.div("Options:"),c.forEach(function(n){var i=l[n],t=v[n]||"",c=null;~o["boolean"].indexOf(n)&&(c="[boolean]"),~o.count.indexOf(n)&&(c="[count]"),~o.string.indexOf(n)&&(c="[string]"),~o.normalize.indexOf(n)&&(c="[string]"),~o.array.indexOf(n)&&(c="[array]");var u=[c,r[n]?"[required]":null,a(o["default"][n],o.defaultDescription[n])].filter(Boolean).join(" ");f.span({text:i,padding:[0,2,0,2],width:e(l)+4},t),u?f.div({text:u,padding:[0,0,0,2],align:"right"}):f.div()}),f.div()),g.length&&(f.div("Examples:"),g.forEach(function(e){e[0]=e[0].replace(/\$0/g,n.$0)}),g.forEach(function(n){f.div({text:n[0],padding:[0,2,0,2],width:e(g)+4},n[1])}),f.div()),h){var m=h.replace(/\$0/g,n.$0);f.div(m+"\n")}return f.toString()},f.showHelp=function(n){n=n||"error",console[n](f.help())},f.functionDescription=function(n,e){if(e)return e;var i=n.name?r(n.name,"-"):"generated-value";return["(",i,")"].join("")};var m=null;return f.version=function(n,e,i){m=n},f.showVersion=function(){"function"==typeof m?console.log(m()):console.log(m)},f}}});