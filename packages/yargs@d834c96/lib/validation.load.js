montageDefine("d834c96","lib/validation",{dependencies:[],factory:function(n,e,t){t.exports=function(n,e){var t={};t.nonOptionCount=function(t){var i=n.getDemanded();i._&&t._.length<i._.count&&(void 0!==i._.msg?e.fail(i._.msg):e.fail("Not enough non-option arguments: got "+t._.length+", need at least "+i._.count))},t.missingArgumentValue=function(t){var i=n.getOptions(),a=[!0,!1,""];if(i.requiresArg.length>0){var o=[];if(i.requiresArg.forEach(function(n){var e=t[n];(~a.indexOf(e)||Array.isArray(e)&&!e.length)&&o.push(n)}),1===o.length)e.fail("Missing argument value: "+o[0]);else if(o.length>1){var r="Missing argument values: "+o.join(", ");e.fail(r)}}},t.requiredArguments=function(t){var i=n.getDemanded(),a=null;if(Object.keys(i).forEach(function(n){t.hasOwnProperty(n)||(a=a||{},a[n]=i[n])}),a){var o=[];Object.keys(a).forEach(function(n){var e=a[n].msg;e&&o.indexOf(e)<0&&o.push(e)});var r=o.length?"\n"+o.join("\n"):"";e.fail("Missing required arguments: "+Object.keys(a).join(", ")+r)}},t.unknownArguments=function(t,i){var a=e.getDescriptions(),o=n.getDemanded(),r=[],c={};Object.keys(i).forEach(function(n){i[n].forEach(function(e){c[e]=n})}),Object.keys(t).forEach(function(n){"$0"===n||"_"===n||a.hasOwnProperty(n)||o.hasOwnProperty(n)||c.hasOwnProperty(n)||r.push(n)}),1===r.length?e.fail("Unknown argument: "+r[0]):r.length>1&&e.fail("Unknown arguments: "+r.join(", "))};var i=[];t.check=function(n){i.push(n)},t.customChecks=function(n,t){i.forEach(function(i){try{var a=i(n,t);a?"string"==typeof a&&e.fail(a):e.fail("Argument check failed: "+i.toString())}catch(o){e.fail(o.message?o.message:o)}})};var a={};return t.implies=function(n,e){"object"==typeof n?Object.keys(n).forEach(function(e){t.implies(e,n[e])}):a[n]=e},t.getImplied=function(){return a},t.implications=function(n){var t=[];if(Object.keys(a).forEach(function(e){var i,o=e,r=a[e];i=Number(e),e=isNaN(i)?e:i,"number"==typeof e?e=n._.length>=e:e.match(/^--no-.+/)?(e=e.match(/^--no-(.+)/)[1],e=!n[e]):e=n[e],i=Number(r),r=isNaN(i)?r:i,"number"==typeof r?r=n._.length>=r:r.match(/^--no-.+/)?(r=r.match(/^--no-(.+)/)[1],r=!n[r]):r=n[r],e&&!r&&t.push(o)}),t.length){var i="Implications failed:\n";t.forEach(function(n){i+="  "+n+" -> "+a[n]}),e.fail(i)}},t}}});