montageDefine("0c9b293","index",{dependencies:["path","minimist","wordwrap"],factory:function(n,e,t){function r(n,e){function t(n){s.showHelp(),n&&console.error(n),process.exit(1)}function r(n){var e=c(n,l);e.$0=s.$0,f._&&e._.length<f._&&t("Not enough non-option arguments: got "+e._.length+", need at least "+f._);var r=[];return Object.keys(f).forEach(function(n){e[n]||r.push(n)}),r.length&&t("Missing required arguments: "+r.join(", ")),h.forEach(function(n){try{n(e)===!1&&t("Argument check failed: "+n.toString())}catch(r){t(r)}}),e}function u(n){return Math.max.apply(null,n.map(function(n){return n.length}))}var s={};e||(e=process.cwd()),s.$0=process.argv.slice(0,2).map(function(n){var t=o(e,n);return n.match(/^\//)&&t.length<n.length?t:n}).join(" "),void 0!=process.env._&&process.argv[1]==process.env._&&(s.$0=process.env._.replace(a.dirname(process.execPath)+"/",""));var l={"boolean":[],string:[],alias:{},"default":[]};s["boolean"]=function(n){return l["boolean"].push.apply(l["boolean"],[].concat(n)),s},s.string=function(n){return l.string.push.apply(l.string,[].concat(n)),s},s["default"]=function(n,e){return"object"==typeof n?Object.keys(n).forEach(function(e){s["default"](e,n[e])}):l["default"][n]=e,s},s.alias=function(n,e){return"object"==typeof n?Object.keys(n).forEach(function(e){s.alias(e,n[e])}):l.alias[n]=(l.alias[n]||[]).concat(e),s};var f={};s.demand=function(n){return"number"==typeof n?(f._||(f._=0),f._+=n):Array.isArray(n)?n.forEach(function(n){s.demand(n)}):f[n]=!0,s};var p;s.usage=function(n,e){return e||"object"!=typeof n||(e=n,n=null),p=n,e&&s.options(e),s};var h=[];s.check=function(n){return h.push(n),s};var d={};s.describe=function(n,e){return"object"==typeof n?Object.keys(n).forEach(function(e){s.describe(e,n[e])}):d[n]=e,s},s.parse=function(n){return r(n)},s.option=s.options=function(n,e){if("object"==typeof n)Object.keys(n).forEach(function(e){s.options(e,n[e])});else{e.alias&&s.alias(n,e.alias),e.demand&&s.demand(n),"undefined"!=typeof e["default"]&&s["default"](n,e["default"]),(e["boolean"]||"boolean"===e.type)&&s["boolean"](n),(e.string||"string"===e.type)&&s.string(n);var t=e.describe||e.description||e.desc;t&&s.describe(n,t)}return s};var g=null;return s.wrap=function(n){return g=n,s},s.showHelp=function(n){n||(n=console.error),n(s.help())},s.help=function(){var n=Object.keys(Object.keys(d).concat(Object.keys(f)).concat(Object.keys(l["default"])).reduce(function(n,e){return"_"!==e&&(n[e]=!0),n},{})),e=n.length?["Options:"]:[];p&&e.unshift(p.replace(/\$0/g,s.$0),"");var t=n.reduce(function(n,e){return n[e]=[e].concat(l.alias[e]||[]).map(function(n){return(n.length>1?"--":"-")+n}).join(", "),n},{}),r=u(Object.keys(t).map(function(n){return t[n]||""})),o=u(Object.keys(d).map(function(n){return d[n]||""}));return n.forEach(function(n){var a=t[n],c=d[n]||"";g&&(c=i(r+4,g)(c).slice(r+4));var u=new Array(Math.max(r-a.length+3,0)).join(" "),s=new Array(Math.max(o-c.length+1,0)).join(" "),p=null;l["boolean"][n]&&(p="[boolean]"),l.string[n]&&(p="[string]"),!g&&s.length>0&&(c+=s);var h="  "+a+u,b=[p,f[n]?"[required]":null,void 0!==l["default"][n]?"[default: "+JSON.stringify(l["default"][n])+"]":null].filter(Boolean).join("  "),y=[c,b].filter(Boolean).join("  ");if(g){var v=c.split("\n"),j=v.slice(-1)[0].length+(1===v.length?h.length:0);y=c+(j+b.length>g-2?"\n"+new Array(g-b.length+1).join(" ")+b:new Array(g-b.length-j+1).join(" ")+b)}e.push(h+y)}),e.push(""),e.join("\n")},Object.defineProperty(s,"argv",{get:function(){return r(n)},enumerable:!0}),s}function o(n,e){for(var t=a.normalize(e).split("/").slice(1),r=a.normalize(n).split("/").slice(1),o=0;t[o]&&t[o]==r[o];o++);t.splice(0,o),r.splice(0,o);var c=a.normalize(r.map(function(){return".."}).concat(t).join("/")).replace(/\/$/,"").replace(/^$/,".");return c.match(/^[.\/]/)?c:"./"+c}var a=n("path"),c=n("minimist"),i=n("wordwrap"),u=r(process.argv.slice(2));Object.keys(u).forEach(function(n){r[n]="function"==typeof u[n]?u[n].bind(u):u[n]});var e=t.exports=r;e.rebase=o}});