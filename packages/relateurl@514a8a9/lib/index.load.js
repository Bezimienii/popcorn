montageDefine("514a8a9","lib/index",{dependencies:["./constants","./format","./options","./util/object","./parse","./relate"],factory:function(e,t,o){"use strict";function r(e,t){this.options=s(t,{defaultPorts:{ftp:21,http:80,https:443},directoryIndexes:["index.html"],ignore_www:!1,output:r.SHORTEST,rejectedSchemes:["data","javascript","mailto"],removeAuth:!1,removeDirectoryIndexes:!0,removeEmptyQueries:!1,removeRootTrailingSlash:!0,schemeRelative:!0,site:void 0,slashesDenoteHost:!0}),this.from=l.from(e,this.options,null)}var i=e("./constants"),n=e("./format"),s=e("./options"),a=e("./util/object"),l=e("./parse"),f=e("./relate");r.prototype.relate=function(e,t,o){if(a.isPlainObject(t)?(o=t,t=e,e=null):t||(t=e,e=null),o=s(o,this.options),e=e||o.site,e=l.from(e,o,this.from),!e||!e.href)throw new Error("from value not defined.");if(e.extra.hrefInfo.minimumPathOnly)throw new Error("from value supplied is not absolute: "+e.href);return t=l.to(t,o),t.valid===!1?t.href:(t=f(e,t,o),t=n(t,o))},r.relate=function(e,t,o){return(new r).relate(e,t,o)},a.shallowMerge(r,i),o.exports=r}});