montageDefine("514a8a9","lib/relate/absolutize",{dependencies:["./findRelation","../util/object","../util/path"],factory:function(e,t,a){"use strict";function r(e,t,a){u.upToPath(e,t,a),e.extra.relation.minimumScheme&&(e.scheme=t.scheme),e.extra.relation.minimumAuth&&(e.auth=t.auth),e.extra.relation.minimumHost&&(e.host=m.clone(t.host)),e.extra.relation.minimumPort&&n(e,t),e.extra.relation.minimumScheme&&i(e,t),u.pathOn(e,t,a),e.extra.relation.minimumResource&&o(e,t),e.extra.relation.minimumQuery&&(e.query=m.clone(t.query)),e.extra.relation.minimumHash&&(e.hash=t.hash)}function i(e,t){if(e.extra.relation.maximumHost||!e.extra.hrefInfo.minimumResourceOnly){var a=e.path.absolute.array,r="/";a?(e.extra.hrefInfo.minimumPathOnly&&0!==e.path.absolute.string.indexOf("/")&&(a=t.path.absolute.array.concat(a)),a=s.resolveDotSegments(a),r+=s.join(a)):a=[],e.path.absolute.array=a,e.path.absolute.string=r}else e.path=m.clone(t.path)}function n(e,t){e.port=t.port,e.extra.portIsDefault=t.extra.portIsDefault}function o(e,t){e.resource=t.resource,e.extra.resourceIsIndex=t.extra.resourceIsIndex}var u=e("./findRelation"),m=e("../util/object"),s=e("../util/path");a.exports=r}});