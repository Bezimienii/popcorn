"use strict";function absolutize(t,e,a){findRelation.upToPath(t,e,a),t.extra.relation.minimumScheme&&(t.scheme=e.scheme),t.extra.relation.minimumAuth&&(t.auth=e.auth),t.extra.relation.minimumHost&&(t.host=objUtils.clone(e.host)),t.extra.relation.minimumPort&&copyPort(t,e),t.extra.relation.minimumScheme&&copyPath(t,e),findRelation.pathOn(t,e,a),t.extra.relation.minimumResource&&copyResource(t,e),t.extra.relation.minimumQuery&&(t.query=objUtils.clone(e.query)),t.extra.relation.minimumHash&&(t.hash=e.hash)}function copyPath(t,e){if(t.extra.relation.maximumHost||!t.extra.hrefInfo.minimumResourceOnly){var a=t.path.absolute.array,r="/";a?(t.extra.hrefInfo.minimumPathOnly&&0!==t.path.absolute.string.indexOf("/")&&(a=e.path.absolute.array.concat(a)),a=pathUtils.resolveDotSegments(a),r+=pathUtils.join(a)):a=[],t.path.absolute.array=a,t.path.absolute.string=r}else t.path=objUtils.clone(e.path)}function copyPort(t,e){t.port=e.port,t.extra.portIsDefault=e.extra.portIsDefault}function copyResource(t,e){t.resource=e.resource,t.extra.resourceIsIndex=e.extra.resourceIsIndex}var findRelation=require("./findRelation"),objUtils=require("../util/object"),pathUtils=require("../util/path");module.exports=absolutize;