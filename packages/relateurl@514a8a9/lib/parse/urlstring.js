"use strict";function clean(l){var e=l.protocol;return e&&e.indexOf(":")===e.length-1&&(e=e.substr(0,e.length-1)),l.host={full:l.hostname,stripped:null},l.path={absolute:{array:null,string:l.pathname},relative:{array:null,string:null}},l.query={object:l.query,string:{full:null,stripped:null}},l.extra={hrefInfo:{minimumPathOnly:null,minimumResourceOnly:null,minimumQueryOnly:null,minimumHashOnly:null,empty:null,separatorOnlyQuery:"?"===l.search},portIsDefault:null,relation:{maximumScheme:null,maximumAuth:null,maximumHost:null,maximumPort:null,maximumPath:null,maximumResource:null,maximumQuery:null,maximumHash:null,minimumScheme:null,minimumAuth:null,minimumHost:null,minimumPort:null,minimumPath:null,minimumResource:null,minimumQuery:null,minimumHash:null,overridesQuery:null},resourceIsIndex:null,slashes:l.slashes},l.resource=null,l.scheme=e,delete l.hostname,delete l.pathname,delete l.protocol,delete l.search,delete l.slashes,l}function validScheme(l,e){var u=!0;return e.rejectedSchemes.every(function(e){return u=!(0===l.indexOf(e+":"))}),u}function parseUrlString(l,e){return validScheme(l,e)?clean(_parseUrl(l,!0,e.slashesDenoteHost)):{href:l,valid:!1}}var _parseUrl=require("url").parse;module.exports=parseUrlString;