"use strict";function getProps(e){function t(e){var t={};try{!function o(e){e.walk(new U2.TreeWalker(function(e){if(e instanceof U2.AST_Seq)return o(e.cdr),!0;if(e instanceof U2.AST_String)return r(e.value),!0;if(e instanceof U2.AST_Conditional)return o(e.consequent),o(e.alternative),!0;throw t}))}(e)}catch(n){if(n!==t)throw n}}function r(e){output.props[e]=!0}var n=fs.readFileSync(e,"utf8"),o=U2.parse(n);o.walk(new U2.TreeWalker(function(e){e instanceof U2.AST_ObjectKeyVal?r(e.key):e instanceof U2.AST_ObjectProperty?r(e.key.name):e instanceof U2.AST_Dot?r(e.property):e instanceof U2.AST_Sub&&t(e.property)}))}var U2=require("../tools/node"),fs=require("fs"),yargs=require("yargs"),ARGS=yargs.describe("o","Output file").argv,files=ARGS._.slice(),output={vars:{},props:{}};if(ARGS.o)try{output=JSON.parse(fs.readFileSync(ARGS.o,"utf8"))}catch(ex){}files.forEach(getProps),ARGS.o?fs.writeFileSync(ARGS.o,JSON.stringify(output,null,2),"utf8"):console.log("%s",JSON.stringify(output,null,2));