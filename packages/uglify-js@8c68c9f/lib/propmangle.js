"use strict";function find_builtins(){function e(e){push_uniq(n,e)}var n=[];return[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(n){Object.getOwnPropertyNames(n).map(e),n.prototype&&Object.getOwnPropertyNames(n.prototype).map(e)}),n}function mangle_properties(e,n){function t(e){return!(_.indexOf(e)>=0)&&(!(u.indexOf(e)>=0)&&(n.only_cache?s.props.has(e):!/^[0-9.]+$/.test(e)))}function r(e){return!(f&&!f.test(e))&&(!(u.indexOf(e)>=0)&&(s.props.has(e)||l.indexOf(e)>=0))}function o(e){t(e)&&push_uniq(l,e),r(e)||push_uniq(_,e)}function i(e){if(!r(e))return e;var n=s.props.get(e);if(!n){do n=base54(++s.cname);while(!t(n));s.props.set(e,n)}return n}function a(e){var n={};try{!function r(e){e.walk(new TreeWalker(function(e){if(e instanceof AST_Seq)return r(e.cdr),!0;if(e instanceof AST_String)return o(e.value),!0;if(e instanceof AST_Conditional)return r(e.consequent),r(e.alternative),!0;throw n}))}(e)}catch(t){if(t!==n)throw t}}function c(e){return e.transform(new TreeTransformer(function(e){return e instanceof AST_Seq?e.cdr=c(e.cdr):e instanceof AST_String?e.value=i(e.value):e instanceof AST_Conditional&&(e.consequent=c(e.consequent),e.alternative=c(e.alternative)),e}))}n=defaults(n,{reserved:null,cache:null,only_cache:!1,regex:null,ignore_quoted:!1});var u=n.reserved;null==u&&(u=find_builtins());var s=n.cache;null==s&&(s={cname:-1,props:new Dictionary});var f=n.regex,p=n.ignore_quoted,l=[],_=[];return e.walk(new TreeWalker(function(e){e instanceof AST_ObjectKeyVal?p&&e.quote||o(e.key):e instanceof AST_ObjectProperty?o(e.key.name):e instanceof AST_Dot?this.parent()instanceof AST_Assign&&o(e.property):e instanceof AST_Sub&&this.parent()instanceof AST_Assign&&(p||a(e.property))})),e.transform(new TreeTransformer(function(e){e instanceof AST_ObjectKeyVal?p&&e.quote||(e.key=i(e.key)):e instanceof AST_ObjectProperty?e.key.name=i(e.key.name):e instanceof AST_Dot?e.property=i(e.property):e instanceof AST_Sub&&(p||(e.property=c(e.property)))}))}