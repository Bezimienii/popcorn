montageDefine("c9483d2","lib/domtohtml",{dependencies:["./htmlencoding"],factory:function(e,n,t){function r(e){if(e.ownerDocument&&e.ownerDocument._fullDT)return e.ownerDocument._fullDT;var n="<!DOCTYPE "+e.name;return e.publicId&&(n+=' PUBLIC "'+e.publicId+'" '),!e.publicId&&e.systemId&&(n+=" SYSTEM "),e.systemId&&(n+=e.systemId.indexOf('"')>-1?"'"+e.systemId+"'":'"'+e.systemId+'"'),n+=">"}var a={area:1,base:1,basefont:1,br:1,col:1,frame:1,hr:1,img:1,input:1,isindex:1,link:1,meta:1,param:1,embed:1},o=({upperCaseChars:/([A-Z])/g,breakBetweenTags:/(<(\/?\w+).*?>)(?=<(?!\/\2))/gi,singleTag:function(){var e=[];for(var n in a)e.push(n);return new RegExp("<"+e.join("|<"),"i")}()},e("./htmlencoding").HTMLEncode);n.stringifyElement=function(e){var n,t=e.tagName.toLowerCase(),r={start:"<"+t,end:""},d=[],i=null;if(e.attributes.length)for(r.start+=" ",n=0;n<e.attributes.length;n++)i=e.attributes.item(n),d.push(i.name+'="'+o(i.nodeValue,!0)+'"');return r.start+=d.join(" "),a[t]?(r.start+=" />",r.end=""):(r.start+=">",r.end="</"+t+">"),r};var d=/SCRIPT|STYLE/i;n.makeHtmlGenerator=function(e,t){return e=e||"",t=t||"",function a(i,s,l){var u,c,m="";if(l=l||"",i){i.nodeType&&i.nodeType===i.ENTITY_REFERENCE_NODE&&(i=i._entity);var E=s||d.test(i.nodeName);switch(i.nodeType){case i.ELEMENT_NODE:if(u=n.stringifyElement(i),m+=E?l+u.start:l+u.start,i._childNodes.length>0){for(i._childNodes[0].nodeType!==i.TEXT_NODE&&(m+=t),c=0;c<i._childNodes.length;c++)m+=a(i._childNodes[c],E,l+e);i._childNodes[i._childNodes.length-1].nodeType!==i.TEXT_NODE&&(m+=l),m+=u.end+t}else m+=((s?i.nodeValue:o(i.nodeValue,!1))||"")+u.end+t;break;case i.TEXT_NODE:e&&/^[\s\n]*$/.test(i.nodeValue)||(m+=(s?i.nodeValue:o(i.nodeValue,!1))||"");break;case i.COMMENT_NODE:m+=l+"<!--"+i.nodeValue+"-->"+t;break;case i.DOCUMENT_NODE:for(c=0;c<i._childNodes.length;c++)m+=a(i._childNodes[c],E,l);break;case i.DOCUMENT_TYPE_NODE:m+=r(i)}}return m}},n.domToHtml=function(e,t,r){var a=n.makeHtmlGenerator(t?"":"  ",t?"":"\n");if(e._toArray&&(e=e._toArray()),"undefined"!=typeof e.length){for(var o="",d=0,i=e.length;d<i;d++)o+=a(e[d],r);return o}return a(e,r)}}});