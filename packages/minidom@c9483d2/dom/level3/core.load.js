montageDefine("c9483d2","dom/level3/core",{dependencies:["../level2/core","../browser/htmltodom","../browser/domtohtml","../browser/htmlencoding"],factory:function(t,e,r){var o=t("../level2/core").dom.level2.core,n=(t("../browser/htmltodom").HtmlToDom,t("../browser/domtohtml").domToHtml,t("../browser/htmlencoding"));n.HTMLEncode,n.HTMLDecode;o=Object.create(o),o.VALIDATION_ERR=16,o.TYPE_MISMATCH_ERR=17,o.DOMImplementation.prototype.getFeature=function(t,e){};var i=o.Node.prototype.DOCUMENT_POSITION_DISCONNECTED=1,s=o.Node.prototype.DOCUMENT_POSITION_PRECEDING=2,a=o.Node.prototype.DOCUMENT_POSITION_FOLLOWING=4,d=o.Node.prototype.DOCUMENT_POSITION_CONTAINS=8,u=o.Node.prototype.DOCUMENT_POSITION_CONTAINED_BY=16,_=(o.Node.prototype.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC=32,o.Node.prototype.DOCUMENT_TYPE_NODE);o.Node.prototype.compareDocumentPosition=function(t){if(!(t instanceof o.Node))throw Error("Comparing position against non-Node values is not allowed");var e,r;if(e=this.nodeType===this.DOCUMENT_NODE?this:this.ownerDocument,r=t.nodeType===this.DOCUMENT_NODE?t:t.ownerDocument,this===t)return 0;if(this===t.ownerDocument)return a+u;if(this.ownerDocument===t)return s+d;if(e!==r)return i;if(this.nodeType===this.ATTRIBUTE_NODE&&this._childNodes&&this._childNodes._toArray().indexOf(t)!==-1)return a+u;if(t.nodeType===this.ATTRIBUTE_NODE&&t._childNodes&&t._childNodes._toArray().indexOf(this)!==-1)return s+d;for(var n=this,_=[],l=null;n;){if(n==t)return s+d;_.push(n),n=n._parentNode}for(n=t,l=null;n;){if(n==this)return a+u;var p=_.indexOf(n);if(p!==-1){var N=_[p],h=N._childNodes._toArray().indexOf(_[p-1]),E=N._childNodes._toArray().indexOf(l);return h>E?s:a}l=n,n=n._parentNode}return i},o.Node.prototype.isSameNode=function(t){return t===this},o.Node.prototype.__defineGetter__("textContent",function(){switch(this.nodeType){case this.COMMENT_NODE:case this.CDATA_SECTION_NODE:case this.PROCESSING_INSTRUCTION_NODE:case this.TEXT_NODE:return this.nodeValue;case this.ATTRIBUTE_NODE:case this.DOCUMENT_FRAGMENT_NODE:case this.ELEMENT_NODE:case this.ENTITY_NODE:case this.ENTITY_REFERENCE_NODE:for(var t="",e=0;e<this.childNodes.length;++e)this.childNodes[e].nodeType!==this.COMMENT_NODE&&this.childNodes[e].nodeType!==this.PROCESSING_INSTRUCTION_NODE&&(t+=this.childNodes[e].textContent||"");return t;default:return null}}),o.Node.prototype.__defineSetter__("textContent",function(t){for(var e=this.childNodes.length;--e>=0;)this.removeChild(this.childNodes.item(e));return""!==t&&null!=t&&this.appendChild(this._ownerDocument.createTextNode(t)),t}),o.Node.prototype.isEqualNode=function(t){var e=this,r=function(){for(var r=0;r<arguments.length;r++){var o=arguments[r];if(e[o]!=t[o])return!0}return!1},o=function(t,e){if(null==t&&null==e)return!1;if(null==t||null==e)return!0;if(t.length!=e.length)return!0;for(var r=[],o=0;o<e.length;o++)r[o]=o;for(var n=0;n<t.length;n++){for(var i=!1,o=0;o<r.length;o++)if(t.item(n).isEqualNode(e.item(r[o]))){i=!0,r.splice(o,1);break}if(!i)return!0}return!1},n=function(t,e){if(null==t&&null==e)return!1;if(null==t||null==e)return!0;if(t.length!=e.length)return!0;for(var r=0;r<t.length;r++)if(!t.item(r).isEqualNode(e.item(r)))return!0;return!1};if(!t)return!1;if(this.isSameNode(t))return!0;if(this.nodeType!=t.nodeType)return!1;if(r("nodeName","localName","namespaceURI","prefix","nodeValue"))return!1;if(o(this.attributes,t.attributes))return!1;if(n(this.childNodes,t.childNodes))return!1;if(this.nodeType==_){if(r("publicId","systemId","internalSubset"))return!1;if(o(this.entities,t.entities))return!1;if(o(this.notations,t.notations))return!1}return!0},o.Node.prototype.setUserData=function(t,e,r){var o=this[t]||null;return this[t]=e,o},o.Node.prototype.getUserData=function(t){var e=this[t]||null;return e},o.Attr.prototype.__defineGetter__("isId",function(){return"id"===this.name.toLowerCase()}),o.UserDataHandler=function(){},o.UserDataHandler.prototype.NODE_CLONED=1,o.UserDataHandler.prototype.NODE_IMPORTED=2,o.UserDataHandler.prototype.NODE_DELETED=3,o.UserDataHandler.prototype.NODE_RENAMED=4,o.UserDataHandler.prototype.NODE_ADOPTED=5,o.UserDataHandler.prototype.handle=function(t,e,r,o,n){},o.DOMError=function(t,e,r,o,n,i){this._severity=t,this._message=e,this._type=r,this._relatedException=o,this._relatedData=n,this._location=i},o.DOMError.prototype={},o.DOMError.prototype.SEVERITY_WARNING=1,o.DOMError.prototype.SEVERITY_ERROR=2,o.DOMError.prototype.SEVERITY_FATAL_ERROR=3,o.DOMError.prototype.__defineGetter__("severity",function(){return this._severity}),o.DOMError.prototype.__defineGetter__("message",function(){return this._message}),o.DOMError.prototype.__defineGetter__("type",function(){return this._type}),o.DOMError.prototype.__defineGetter__("relatedException",function(){return this._relatedException}),o.DOMError.prototype.__defineGetter__("relatedData",function(){return this._relatedData}),o.DOMError.prototype.__defineGetter__("location",function(){return this._location}),o.DOMConfiguration=function(){},o.DOMConfiguration.prototype={setParameter:function(t,e){},getParameter:function(t){},canSetParameter:function(t,e){},parameterNames:function(){}},o.Document.prototype.__defineGetter__("domConfig",function(){return this._domConfig||new o.DOMConfiguration}),o.DOMStringList=function(){},o.DOMStringList.prototype={item:function(){},length:function(){},contains:function(){}},o.Document.prototype._inputEncoding=null,o.Document.prototype.__defineGetter__("inputEncoding",function(){return this._inputEncoding}),e.dom={level3:{core:o}}}});