montageDefine("be0bc6a","index",{dependencies:["wordwrap","right-align","center-align"],factory:function(t,n,r){function i(t){this.width=t.width,this.wrap=t.wrap,this.rows=[]}function o(t){var n=t.padding||[];return 1+(n[u]||0)+(n[p]||0)}var e=t("wordwrap"),a={right:t("right-align"),center:t("center-align")},h=0,p=1,d=2,u=3;i.prototype.span=function(){var t=this.div.apply(this,arguments);t.span=!0},i.prototype.div=function(){if(0===arguments.length&&this.div(""),this.wrap&&this._shouldApplyLayoutDSL.apply(this,arguments))return this._applyLayoutDSL(arguments[0]);for(var t,n=[],r=0;void 0!==(t=arguments[r]);r++)"string"==typeof t?n.push(this._colFromString(t)):n.push(t);return this.rows.push(n),n},i.prototype._shouldApplyLayoutDSL=function(){return 1===arguments.length&&"string"==typeof arguments[0]&&/[\t\n]/.test(arguments[0])},i.prototype._applyLayoutDSL=function(t){var n=this,r=t.split("\n"),i=0;return r.forEach(function(t){var r=t.split("\t");r.length>1&&r[0].length>i&&(i=Math.min(Math.floor(.5*n.width),r[0].length))}),r.forEach(function(t){var r=t.split("\t");n.div.apply(n,r.map(function(t,n){return{text:t.trim(),padding:[0,t.match(/\s*$/)[0].length,0,t.match(/^\s*/)[0].length],width:0===n&&r.length>1?i:void 0}}))}),this.rows[this.rows.length-1]},i.prototype._colFromString=function(t){return{text:t}},i.prototype.toString=function(){var t=this,n=[];return t.rows.forEach(function(r,i){t.rowToString(r,n)}),n=n.filter(function(t){return!t.hidden}),n.map(function(t){return t.text}).join("\n")},i.prototype.rowToString=function(t,n){var r,i,o,e,h=this,d=this._rasterize(t),s="";return d.forEach(function(d,f){s="",d.forEach(function(d,g){i="",o=t[g].width,e=h._negatePadding(t[g]);for(var l=0;l<Math.max(e,d.length);l++)i+=d.charAt(l)||" ";t[g].align&&"left"!==t[g].align&&h.wrap&&(i=a[t[g].align](i.trim()+"\n"+new Array(e+1).join(" ")).split("\n")[0],i.length<e&&(i+=new Array(o-i.length).join(" "))),r=(t[g].padding||[0,0,0,0])[u],r&&(s+=new Array(t[g].padding[u]+1).join(" ")),s+=i,t[g].padding&&t[g].padding[p]&&(s+=new Array(t[g].padding[p]+1).join(" ")),0===f&&n.length>0&&(s=h._renderInline(s,n[n.length-1],r))}),n.push({text:s.replace(/ +$/,""),span:t.span})}),n},i.prototype._renderInline=function(t,n,r){var i=n.text,o="";if(!n.span)return t;if(!this.wrap)return n.hidden=!0,i+t;for(var e,a,h=0;h<Math.max(t.length,i.length);h++){if(e=i.charAt(h)||" ",a=t.charAt(h)||" "," "!==e&&" "!==a)return t;if(" "!==a&&h<r+i.length)return t;o+=" "===e?a:e}return n.hidden=!0,o},i.prototype._rasterize=function(t){var n,r,i,o=this,a=[],p=this._columnWidths(t);return t.forEach(function(t,u){if(t.width=p[u],i=o.wrap?e.hard(o._negatePadding(t))(t.text).split("\n"):t.text.split("\n"),t.padding){for(n=0;n<(t.padding[h]||0);n++)i.unshift("");for(n=0;n<(t.padding[d]||0);n++)i.push("")}i.forEach(function(t,n){a[n]||a.push([]),r=a[n];for(var i=0;i<u;i++)void 0===r[i]&&r.push("");r.push(t)})}),a},i.prototype._negatePadding=function(t){var n=t.width;return t.padding&&(n-=(t.padding[u]||0)+(t.padding[p]||0)),n},i.prototype._columnWidths=function(t){var n,r=this,i=[],e=t.length,a=this.width;return t.forEach(function(t,n){t.width?(e--,i[n]=t.width,a-=t.width):i[n]=void 0}),e&&(n=Math.floor(a/e)),i.forEach(function(e,a){r.wrap?void 0===e&&(i[a]=Math.max(n,o(t[a]))):i[a]=t[a].width||t[a].text.length}),i},r.exports=function(t){return t=t||{},new i({width:(t||{}).width||80,wrap:"boolean"!=typeof t.wrap||t.wrap})}}});