montageDefine("fc77de5","cli",{dependencies:["exit","glob"],factory:function(e,t,n){var r,a,o,i,s,c,u,f,p,g,h,d=t,m=[];d.app=null,d.version=null,d.argv=[],d.argc=0,d.options={},d.args=[],d.command=null,d.width=70,d.option_width=25,d["native"]={};var v=function(t){Object.defineProperty(d["native"],t,{enumerable:!0,configurable:!0,get:function(){return delete d["native"][t],d["native"][t]=e(t)}})},b=process.binding("natives");for(var n in b)v(n);d.output=console.log,d.exit=e("exit"),d.no_color=!1,(process.env.NODE_DISABLE_COLORS||"dumb"===process.env.TERM)&&(d.no_color=!0);var y={help:!0,version:!1,status:!1,timeout:!1,catchall:!1,glob:!1};d.enable=function(){return Array.prototype.slice.call(arguments).forEach(function(t){switch(t){case"catchall":process.on("uncaughtException",function(e){d.error("Uncaught exception: "+(e.msg||e))});break;case"help":case"version":case"status":case"autocomplete":case"timeout":break;case"glob":d.glob=e("glob");break;default:d.fatal('Unknown plugin "'+t+'"')}y[t]=!0}),d},d.disable=function(){return Array.prototype.slice.call(arguments).forEach(function(e){y[e]&&(y[e]=!1)}),d},d.setArgv=function(e,t){e="string"==typeof e?e.split(" "):e.slice(),d.app=e.shift(),t||["node","node.exe"].indexOf(d["native"].path.basename(d.app))===-1&&d["native"].path.basename(process.execPath)!==d.app&&process.execPath!==d.app||(d.app=e.shift()),d.app=d["native"].path.basename(d.app),f=!1,d.args=d.argv=r=e,d.argc=r.length,d.options={},d.command=null},d.setArgv(process.argv),d.next=function(){if(f||(d.args=[],f=!0),o=null,m.length)return a=m.shift(),i="-"+a,a;if(!r.length)return!1;if(a=r.shift(),"-"===a||"--"===a){for(;r.length;)d.args.push(r.shift());return!1}if("-"!==a[0])return d.args.push(a),d.next();if(s="-"===a[1],a=a.substr(s?2:1),!s&&a.length>1)return m=a.split(""),d.next();var e,t;return s&&(e=a.indexOf("="))>=0&&(o=a.substr(e+1),a=a.substr(0,e),t=o.length,('"'===o[0]&&'"'===o[t-1]||"'"===o[0]&&"'"===o[t-1])&&(o=o.substr(1,t-2)),o.match(/^[0-9]+$/)&&(o=parseInt(o,10))),i=(s?"--":"-")+a,a},d.parse=function(e,t){var n,r,a,u,f=d.options,m=!e;for(c=e||{},g=t,p=g||[],g&&!Array.isArray(g)&&(p=Object.keys(g));a=d.next();){u=!1;for(var v in c)if(c[v]instanceof Array&&(c[v][0]||(c[v][0]=v),a===v||a===c[v][0])){if(u=!0,2===c[v].length){f[v]=!0;break}if(n=null,4===c[v].length&&(n=c[v][3]),c[v][2]instanceof Array){for(r=0,l=c[v][2].length;r<l;r++)"number"==typeof c[v][2][r]&&(c[v][2][r]+="");f[v]=d.getArrayValue(c[v][2],s?null:n);break}switch(c[v][2].toLowerCase&&(c[v][2]=c[v][2].toLowerCase()),c[v][2]){case"string":case 1:case!0:f[v]=d.getValue(n);break;case"int":case"number":case"num":case"time":case"seconds":case"secs":case"minutes":case"mins":case"x":case"n":f[v]=d.getInt(n);break;case"date":case"datetime":case"date_time":f[v]=d.getDate(n);break;case"float":case"decimal":f[v]=d.getFloat(n);break;case"path":case"file":case"directory":case"dir":f[v]=d.getPath(n,c[v][2]);break;case"email":f[v]=d.getEmail(n);break;case"url":case"uri":case"domain":case"host":f[v]=d.getUrl(n,c[v][2]);break;case"ip":f[v]=d.getIp(n);break;case"bool":case"boolean":case"on":f[v]=!0;break;case"false":case"off":case!1:case 0:f[v]=!1;break;default:d.fatal('Unknown opt type "'+c[v][2]+'"')}break}if(!u){if(!y.help||"h"!==a&&"help"!==a){if(y.version&&("v"===a||"version"===a)){null==d.version&&d.parsePackageJson(),console.error(d.app+" v"+d.version),d.exit();break}if(y.catchall&&("c"===a||"catch"===a))continue;if(y.status&&("k"===a||"no-color"===a)){d.no_color="k"===a||"no-color"===a;continue}if(y.status&&"debug"===a){h="debug"===a;continue}if(y.timeout&&("t"===a||"timeout"===a)){var b=d.getInt();setTimeout(function(){d.fatal("Process timed out after "+b+"s")},1e3*b);continue}if(m){f[a]=o||!0;continue}}else d.getUsage();d.fatal("Unknown option "+i)}}for(var v in c)n=4===c[v].length?c[v][3]:null,c[v]instanceof Array?"undefined"==typeof f[v]&&(f[v]=n):f[v]=c[v];if(p.length){if(0===d.args.length)return y.help?d.getUsage():d.fatal("A command is required ("+p.join(", ")+")."),d.exit(1);d.command=d.autocompleteCommand(d.args.shift())}return d.argc=d.args.length,f},d.autocompleteCommand=function(e){var t;t=p instanceof Array?p:Object.keys(p);var n,r,a=0,o=e.length;if(0===t.length||t.indexOf(e)!==-1)return e;for(n=0;n<o&&(r=[],l=t.length,!(l<=1));n++){for(a=0;a<l;a++)t[a].length>=n&&t[a][n]===e[n]&&r.push(t[a]);t=r}return l=t.length,1===l?t[0]:void(0===l?d.fatal('Unknown command "'+e+'"'+(y.help?". Please see --help for more information":"")):(t.sort(),d.fatal('The command "'+e+'" is ambiguous and could mean "'+t.join('", "')+'"')))},d.status=function(e,t){var n;switch(t){case"info":n=d.no_color?"INFO:":"[33mINFO[0m:";break;case"debug":n=d.no_color?"DEBUG:":"[36mDEBUG[0m:";break;case"error":case"fatal":n=d.no_color?"ERROR:":"[31mERROR[0m:";break;case"ok":n=d.no_color?"OK:":"[32mOK[0m:"}return e=n+" "+e,"fatal"===t?(console.error(e),d.exit(1)):void(y.status&&!h&&"debug"===t||console.error(e))},["info","error","ok","debug","fatal"].forEach(function(e){d[e]=function(t){d.status(t,e)}}),d.setApp=function(e,t){return e.indexOf("package.json")!==-1?d.parsePackageJson(e):(d.app=e,d.version=t),d},d.parsePackageJson=function(e){var t=function(e){var t=JSON.parse(d["native"].fs.readFileSync(e,"utf8"));d.version=t.version,d.app=t.name},n=function(e,t,n){for(var r=0,a=e.length;r<a;r++)try{return void t(e[r])}catch(o){r===a-1&&d.fatal(n)}};try{if(e)return t(e);n([__dirname+"/package.json",__dirname+"/../package.json",__dirname+"/../../package.json"],t)}catch(r){d.fatal("Could not detect "+d.app+" version")}},d.setUsage=function(e){return u=e,d};var w=function(e,t){if("undefined"==typeof t&&(t=e,e=""),e.length<t)for(t-=e.length;t--;)e+=" ";return e};d.getUsage=function(e){var t,n,r,a,o=[],i=d.option_width,s=function(e,t,n){var r=e.length,a=d.width-r,o="";if(t.length<=a)return t;for(var i,s=(t+"").split(" "),c=0;s.length;)o+=(i=s.shift())+" ",c+=i.length,s.length&&c+s[0].length>a&&(o+="\n"+w(r),c=0);return o};u=u||d.app+" [OPTIONS]"+(p.length?" <command>":"")+" [ARGS]",d.no_color?(console.error("Usage:\n  "+u),console.error("Options: ")):(console.error("[1mUsage[0m:\n  "+u),console.error("\n[1mOptions[0m: "));for(var l in c)1===l.length?(long=c[l][0],t=l):(long=l,t=c[l][0]),n=c[l][1].trim(),type=c[l].length>=3?c[l][2]:null,r=4===c[l].length?c[l][3]:null,a=t===long?1===t.length?"  -"+t:"      --"+long:t?"  -"+t+", --"+long:"      --"+long,a+=" ",type&&(type instanceof Array&&(n+=". VALUE must be either ["+type.join("|")+"]",type="VALUE"),type!==!0&&1!==type||(type=long.toUpperCase()),type=type.toUpperCase(),"FLOAT"!==type&&"INT"!==type||(type="NUMBER"),a+=r?"["+type+"]":type),a=w(a,i),a+=s(a,n),a+=r?" (Default is "+r+")":"",console.error(a.replace("%s","%\0s")),o.push(t),o.push(long);if(y.timeout&&o.indexOf("t")===-1&&o.indexOf("timeout")===-1&&console.error(w("  -t, --timeout N",i)+"Exit if the process takes longer than N seconds"),y.status&&(o.indexOf("k")===-1&&o.indexOf("no-color")===-1&&console.error(w("  -k, --no-color",i)+"Omit color from output"),o.indexOf("debug")===-1&&console.error(w("      --debug",i)+"Show debug information")),y.catchall&&o.indexOf("c")===-1&&o.indexOf("catch")===-1&&console.error(w("  -c, --catch",i)+"Catch unanticipated errors"),y.version&&o.indexOf("v")===-1&&o.indexOf("version")===-1&&console.error(w("  -v, --version",i)+"Display the current version"),y.help&&o.indexOf("h")===-1&&o.indexOf("help")===-1&&console.error(w("  -h, --help",i)+"Display help and usage details"),p.length)if(console.error("\n[1mCommands[0m: "),Array.isArray(g))p.sort(),console.error("  "+s("  ",p.join(", ")));else for(var f in g)a="  "+w(f,i-2),a+=s(a,g[f]),console.error(a);return d.exit(e)},d.getOptError=function(e,t){var n=i+" expects "+e+". Use `"+d.app+" "+i+(s?"=":" ")+t+"`";return n},d.getValue=function(e,t,n){n=n||d.getOptError("a value","VALUE");var a;try{if(o)return t&&(o=t(o)),o;if(m.length)throw"Short tags";if(!r.length||1===r[0].length&&"-"===r[0][0])throw"No value";a=r.shift(),a.match(/^[0-9]+$/)&&(a=parseInt(a,10)),t&&(a=t(a))}catch(i){return a&&r.unshift(a),null!=e?e:d.fatal(n)}return a},d.getInt=function(e){return d.getValue(e,function(e){if("number"==typeof e)return e;if(!e.match(/^(?:-?(?:0|[1-9][0-9]*))$/))throw"Invalid int";return parseInt(e)},d.getOptError("a number","NUMBER"))},d.getDate=function(e){return d.getValue(e,function(e){if("date"===d.toType(e))return e;if(e=new Date(e),!e.getTime())throw e.toString();return e},d.getOptError("a date","DATE"))},d.getFloat=function(e){return d.getValue(e,function(e){if(!e.match(/^(?:-?(?:0|[1-9][0-9]*))?(?:\.[0-9]*)?$/))throw"Invalid float";return parseFloat(e,10)},d.getOptError("a number","NUMBER"))},d.getUrl=function(e,t){return t=t||"url",d.getValue(e,function(e){if(!e.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2})?)|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/i))throw"Invalid URL";return e},d.getOptError("a "+t,t.toUpperCase()))},d.getEmail=function(e){return d.getValue(e,function(e){if(!e.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/))throw"Invalid email";return e},d.getOptError("an email","EMAIL"))},d.getIp=function(e){return d.getValue(e,function(e){if(!e.match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/))throw"Invalid IP";return e},d.getOptError("an IP","IP"))},d.getPath=function(e,t){return t=t||"path",d.getValue(e,function(e){if(e.match(/[?*;{}]/))throw"Invalid path";return e},d.getOptError("a "+t,t.toUpperCase()))},d.getArrayValue=function(e,t){return d.getValue(t,function(t){if(e.indexOf(t)===-1)throw"Unexpected value";return t},d.getOptError("either ["+e.join("|")+"]","VALUE"))},d.withStdin=function(e,t){"function"==typeof e&&(t=e,e="utf8");var n=process.openStdin(),r="";n.setEncoding(e),n.on("data",function(e){r+=e}),n.on("end",function(){t.apply(d,[r])})},d.withStdinLines=function(e){d.withStdin(function(t){var n=t.indexOf("\r\n")!==-1?"\r\n":"\n";e.apply(d,[t.split(n),n])})},d.withInput=function(e,t,n){if("function"==typeof t?(n=t,t="utf8"):"function"==typeof e&&(n=e,t="utf8",e="stdin"),"stdin"===e)e=process.openStdin();else try{e=d["native"].fs.createReadStream(e),e.on("error",d.fatal)}catch(r){return d.fatal(r)}e.setEncoding(t);var a,o,i=[],s="";e.on("data",function(e){if(!a){if(s+=e,!o)if(s.indexOf("\r\n")!==-1)o="\r\n";else{if(s.indexOf("\n")===-1)return void(last_line=s);o="\n"}for(i=s.split(o),s=a?null:i.pop();i.length;)n.apply(d,[i.shift(),o,!1])}}),e.on("end",function(){a=!0,s.length&&n.apply(d,[s,o||"",!1]),n.apply(d,[null,null,!0])})},d.toType=function(e){function t(e){return Number(e)===e&&e%1===0}function n(e){return e===Number(e)&&e%1!==0}var r={}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase();if("number"===r){if(t(e))return"integer";if(n(e))return"float"}return r},d.main=function(e){e.call(d,d.args,d.options)},d.createServer=function(){var e,t,n=function(e,t,n){return n?(console.error(n.stack),t.writeHead(500,{"Content-Type":"text/plain"}),t.end(n.stack+"\n")):(t.writeHead(404,{"Content-Type":"text/plain"}),void t.end("Not Found\n"))};e=t=n;var r=Array.prototype.slice.call(arguments);return r.length&&r[0]instanceof Array&&(r=r[0]),r.reverse().forEach(function(n){var r=e;e=function(e,a){try{n(e,a,function(n){return n?t(e,a,n):void r(e,a)})}catch(o){t(e,a,o)}}}),d["native"].http.createServer(e)},d.exec=function(e,t,n){d["native"].child_process.exec(e,function(e,r,a){return(e=e||a)?n?n(e,r):d.fatal("exec() failed\n"+e):void(t&&t(r.split("\n")))})};var O,k=74,x=5,E=0;d.progress=function(e,t,n){if(n=n||process.stdout,!(e<0||e>1||isNaN(e))){t||(t=0);var r=(new Date).getTime();if(!(O&&r-O<100&&1!==e)){O=r;var a=Math.pow(10,t),o=Math.floor(100*e*a)/a;if(!(!n.isTTY&&o<100&&o-E<x)){E=o;for(var i=o+"%",s=0;s<t;s++)i+=" ";if(!n.isTTY)return void(o<100?n.write(i+"..."):(n.write(i+"\n"),E=0));var c=Math.floor(k*e),l="";for(0==c&&e>0&&(c=1),s=1;s<=k;s++)l+=s<=c?"#":" ";n.clearLine(),n.write("["+l+"] "+i),1===e?n.write("\n"):n.cursorTo(0)}}}};var A;d.spinner=function(e,t,n){if(n=n||process.stdout,!n.isTTY)return void n.write(e+"\n");if(t)return n.clearLine(),n.cursorTo(0),n.write(e+"\n"),clearInterval(A);e=e+" "||"";var r=["-","\\","|","/"],a=0,o=r.length;A=setInterval(function(){n.clearLine(),n.cursorTo(0),n.write(e+r[a++]),a==o&&(a=0)},200)}}});