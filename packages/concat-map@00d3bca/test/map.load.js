montageDefine("00d3bca","test/map",{dependencies:["../","tape"],factory:function(n,a,e){var t=n("../"),c=n("tape");c("empty or not",function(n){var a=[1,2,3,4,5,6],e=[],c=t(a,function(n,a){return e.push(a),n%2?[n-.1,n,n+.1]:[]});n.same(c,[.9,1,1.1,2.9,3,3.1,4.9,5,5.1]),n.same(e,[0,1,2,3,4,5]),n.end()}),c("always something",function(n){var a=["a","b","c","d"],e=t(a,function(n){return"b"===n?["B","B","B"]:[n]});n.same(e,["a","B","B","B","c","d"]),n.end()}),c("scalars",function(n){var a=["a","b","c","d"],e=t(a,function(n){return"b"===n?["B","B","B"]:n});n.same(e,["a","B","B","B","c","d"]),n.end()}),c("undefs",function(n){var a=["a","b","c","d"],e=t(a,function(){});n.same(e,[void 0,void 0,void 0,void 0]),n.end()})}});