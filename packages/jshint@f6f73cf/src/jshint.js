var _=require("lodash"),events=require("events"),vars=require("./vars.js"),messages=require("./messages.js"),Lexer=require("./lex.js").Lexer,reg=require("./reg.js"),state=require("./state.js").state,style=require("./style.js"),options=require("./options.js"),scopeManager=require("./scope-manager.js"),console=require("console-browserify"),JSHINT=function(){"use strict";function t(t,e){return t=t.trim(),!!/^[+-]W\d{3}$/g.test(t)||(!(options.validNames.indexOf(t)===-1&&"jslint"!==e.type&&!_.has(options.removed,t))||(d("E001",e,t),!1))}function e(t){return"[object String]"===Object.prototype.toString.call(t)}function n(t,e){return!!t&&!(!t.identifier||t.value!==e)}function s(t){if(!t.reserved)return!1;var e=t.meta;if(e&&e.isFutureReservedWord){if(e.moduleOnly&&!state.option.module)return!1;if(state.inES5()){if(!e.es5)return!1;if(e.strictOnly&&!state.option.strict&&!state.isStrict())return!1;if(t.isProperty)return!1}}return!0}function a(t,e){return t.replace(/\{([^{}]*)\}/g,function(t,n){var s=e[n];return"string"==typeof s||"number"==typeof s?s:t})}function r(t,e){Object.keys(e).forEach(function(n){_.has(JSHINT.blacklist,n)||(t[n]=e[n])})}function i(){if(state.option.enforceall){for(var t in options.bool.enforcing)void 0!==state.option[t]||options.noenforceall[t]||(state.option[t]=!0);for(var e in options.bool.relaxing)void 0===state.option[e]&&(state.option[e]=!1)}}function o(){var t=null;i(),t=state.inferEsVersion(),t&&u("E059",state.tokens.next,"esversion",t),state.inES5()&&r(Lt,vars.ecmaIdentifiers[5]),state.inES6()&&r(Lt,vars.ecmaIdentifiers[6]),"global"===state.option.strict&&"globalstrict"in state.option&&u("E059",state.tokens.next,"strict","globalstrict"),state.option.module&&(state.inES6()||l("W134",state.tokens.next,"module",6)),state.option.couch&&r(Lt,vars.couch),state.option.qunit&&r(Lt,vars.qunit),state.option.rhino&&r(Lt,vars.rhino),state.option.shelljs&&(r(Lt,vars.shelljs),r(Lt,vars.node)),state.option.typed&&r(Lt,vars.typed),state.option.phantom&&r(Lt,vars.phantom),state.option.prototypejs&&r(Lt,vars.prototypejs),state.option.node&&(r(Lt,vars.node),r(Lt,vars.typed)),state.option.devel&&r(Lt,vars.devel),state.option.dojo&&r(Lt,vars.dojo),state.option.browser&&(r(Lt,vars.browser),r(Lt,vars.typed)),state.option.browserify&&(r(Lt,vars.browser),r(Lt,vars.typed),r(Lt,vars.browserify)),state.option.nonstandard&&r(Lt,vars.nonstandard),state.option.jasmine&&r(Lt,vars.jasmine),state.option.jquery&&r(Lt,vars.jquery),state.option.mootools&&r(Lt,vars.mootools),state.option.worker&&r(Lt,vars.worker),state.option.wsh&&r(Lt,vars.wsh),state.option.yui&&r(Lt,vars.yui),state.option.mocha&&r(Lt,vars.mocha)}function u(t,e,n,s){var r=Math.floor(e.line/state.lines.length*100),i=messages.errors[t].desc,o={name:"JSHintError",line:e.line,character:e.from,message:i+" ("+r+"% scanned).",raw:i,code:t,a:n,b:s};throw o.reason=a(i,o)+" ("+r+"% scanned).",o}function c(){var t=state.ignoredLines;_.isEmpty(t)||(JSHINT.errors=_.reject(JSHINT.errors,function(e){return t[e.line]}))}function l(t,e,n,s,r,i){var o,l,f,d;if(/^W\d{3}$/.test(t)){if(state.ignored[t])return;d=messages.warnings[t]}else/E\d{3}/.test(t)?d=messages.errors[t]:/I\d{3}/.test(t)&&(d=messages.info[t]);return e=e||state.tokens.next||{},"(end)"===e.id&&(e=state.tokens.curr),l=e.line,o=e.from,f={id:"(error)",raw:d.desc,code:d.code,evidence:state.lines[l-1]||"",line:l,character:o,scope:JSHINT.scope,a:n,b:s,c:r,d:i},f.reason=a(d.desc,f),JSHINT.errors.push(f),c(),JSHINT.errors.length>=state.option.maxerr&&u("E043",e),f}function f(t,e,n,s,a,r,i){return l(t,{line:e,from:n},s,a,r,i)}function d(t,e,n,s,a,r){l(t,e,n,s,a,r)}function k(t,e,n,s,a,r,i){return d(t,{line:e,from:n},s,a,r,i)}function p(t,e){JSHINT.internals.push({id:"(internal)",elem:t,token:e,code:e.value.replace(/([^\\])(\\*)\2\\n/g,"$1\n")})}function v(e,n){var s=e.body.split(",").map(function(t){return t.trim()}),a={};if("falls through"===e.type)return void(n.caseFallsThrough=!0);if("globals"===e.type){s.forEach(function(t,n){t=t.split(":");var r=(t[0]||"").trim(),i=(t[1]||"").trim();if("-"===r||!r.length){if(n>0&&n===s.length-1)return;return void d("E002",e)}"-"===r.charAt(0)?(r=r.slice(1),i=!1,JSHINT.blacklist[r]=r,delete Lt[r]):a[r]="true"===i}),r(Lt,a);for(var i in a)_.has(a,i)&&(Pt[i]=e)}"exported"===e.type&&s.forEach(function(t,n){if(!t.length){if(n>0&&n===s.length-1)return;return void d("E002",e)}state.funct["(scope)"].addExported(t)}),"members"===e.type&&(zt=zt||{},s.forEach(function(t){var e=t.charAt(0),n=t.charAt(t.length-1);e!==n||'"'!==e&&"'"!==e||(t=t.substr(1,t.length-2).replace('\\"','"')),zt[t]=!1}));var u=["maxstatements","maxparams","maxdepth","maxcomplexity","maxerr","maxlen","indent"];"jshint"!==e.type&&"jslint"!==e.type||(s.forEach(function(n){n=n.split(":");var s=(n[0]||"").trim(),a=(n[1]||"").trim();if(t(s,e))if(u.indexOf(s)>=0)if("false"!==a){if(a=+a,"number"!=typeof a||!isFinite(a)||a<=0||Math.floor(a)!==a)return void d("E032",e,n[1].trim());state.option[s]=a}else state.option[s]="indent"===s&&4;else{if("validthis"===s)return state.funct["(global)"]?void d("E009"):"true"!==a&&"false"!==a?void d("E002",e):void(state.option.validthis="true"===a);if("quotmark"!==s)if("shadow"!==s)if("unused"!==s)if("latedef"!==s)if("ignore"!==s){if("strict"!==s){if("module"===s&&(ft(state.funct)||d("E055",e,"module")),"esversion"===s){switch(a){case"3":case"5":case"6":case"2015":state.option.moz=!1,state.option.esversion=+a;break;default:d("E002",e)}return void(ft(state.funct)||d("E055",e,"esversion"))}var r=/^([+-])(W\d{3})$/g.exec(s);if(r)return void(state.ignored[r[2]]="-"===r[1]);var i;return"true"===a||"false"===a?void("jslint"===e.type?(i=options.renamed[s]||s,state.option[i]="true"===a,void 0!==options.inverted[i]&&(state.option[i]=!state.option[i])):state.option[s]="true"===a):void d("E002",e)}switch(a){case"true":state.option.strict=!0;break;case"false":state.option.strict=!1;break;case"global":case"implied":state.option.strict=a;break;default:d("E002",e)}}else switch(a){case"line":state.ignoredLines[e.line]=!0,c();break;default:d("E002",e)}else switch(a){case"true":state.option.latedef=!0;break;case"false":state.option.latedef=!1;break;case"nofunc":state.option.latedef="nofunc";break;default:d("E002",e)}else switch(a){case"true":state.option.unused=!0;break;case"false":state.option.unused=!1;break;case"vars":case"strict":state.option.unused=a;break;default:d("E002",e)}else switch(a){case"true":state.option.shadow=!0;break;case"outer":state.option.shadow="outer";break;case"false":case"inner":state.option.shadow="inner";break;default:d("E002",e)}else switch(a){case"true":case"false":state.option.quotmark="true"===a;break;case"double":case"single":state.option.quotmark=a;break;default:d("E002",e)}}}),o())}function h(t){var e,n=t||0,s=qt.length;if(n<s)return qt[n];for(;s<=n;){if(e=Dt.token(),!e)return qt.length?qt[s-1]:state.tokens.next;qt[s]=e,s+=1}return e}function x(){var t,e=0;do t=h(e++);while("(endline)"===t.id);return t}function m(t,e){switch(state.tokens.curr.id){case"(number)":"."===state.tokens.next.id&&l("W005",state.tokens.curr);break;case"-":"-"!==state.tokens.next.id&&"--"!==state.tokens.next.id||l("W006");break;case"+":"+"!==state.tokens.next.id&&"++"!==state.tokens.next.id||l("W007")}for(t&&state.tokens.next.id!==t&&(e?"(end)"===state.tokens.next.id?d("E019",e,e.id):d("E020",state.tokens.next,t,e.id,e.line,state.tokens.next.value):"(identifier)"===state.tokens.next.type&&state.tokens.next.value===t||l("W116",state.tokens.next,t,state.tokens.next.value)),state.tokens.prev=state.tokens.curr,state.tokens.curr=state.tokens.next;;){if(state.tokens.next=qt.shift()||Dt.token(),state.tokens.next||u("E041",state.tokens.curr),"(end)"===state.tokens.next.id||"(error)"===state.tokens.next.id)return;if(state.tokens.next.check&&state.tokens.next.check(),state.tokens.next.isSpecial)v(state.tokens.next,state.tokens.curr);else if("(endline)"!==state.tokens.next.id)break}}function g(t){return t.first||t.right||t.left||"yield"===t.id}function b(t,e){return 0===arguments.length&&(t=state.tokens.curr,e=state.tokens.next),";"===e.id||"}"===e.id||":"===e.id||(e.infix===t.infix||"after"===t.ltBoundary||"before"===e.ltBoundary)&&t.line!==W(e)}function y(t,e){var n,s=!1,a=!1,r=!1;state.nameStack.push(),e||"let"!==state.tokens.next.value||"("!==h(0).value||(state.inMoz()||l("W118",state.tokens.next,"let expressions"),r=!0,state.funct["(scope)"].stack(),m("let"),m("("),state.tokens.prev.fud(),m(")")),"(end)"===state.tokens.next.id&&d("E006",state.tokens.curr);var i=state.option.asi&&state.tokens.prev.line!==W(state.tokens.curr)&&_.contains(["]",")"],state.tokens.prev.id)&&_.contains(["[","("],state.tokens.curr.id);if(i&&l("W014",state.tokens.curr,state.tokens.curr.id),m(),e&&(state.funct["(verb)"]=state.tokens.curr.value,state.tokens.curr.beginsStmt=!0),e===!0&&state.tokens.curr.fud)n=state.tokens.curr.fud();else for(state.tokens.curr.nud?n=state.tokens.curr.nud(t):d("E030",state.tokens.curr,state.tokens.curr.id);t<state.tokens.next.lbp&&!b();)s="Array"===state.tokens.curr.value,a="Object"===state.tokens.curr.value,n&&(n.value||n.first&&n.first.value)&&("new"!==n.value||n.first&&n.first.value&&"."===n.first.value)&&(s=!1,n.value!==state.tokens.curr.value&&(a=!1)),m(),s&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&l("W009",state.tokens.curr),a&&"("===state.tokens.curr.id&&")"===state.tokens.next.id&&l("W010",state.tokens.curr),n&&state.tokens.curr.led?n=state.tokens.curr.led(n):d("E033",state.tokens.curr,state.tokens.curr.id);return r&&state.funct["(scope)"].unstack(),state.nameStack.pop(),n}function W(t){return t.startLine||t.line}function E(t,e){t=t||state.tokens.curr,e=e||state.tokens.next,state.option.laxbreak||t.line===W(e)||l("W014",e,e.value)}function S(t){t=t||state.tokens.curr,t.line!==W(state.tokens.next)&&l("E022",t,t.value)}function w(t,e){t.line!==W(e)&&(state.option.laxcomma||(j.first&&(l("I001"),j.first=!1),l("W014",t,e.value)))}function j(t){if(t=t||{},t.peek?w(state.tokens.prev,state.tokens.curr):(w(state.tokens.curr,state.tokens.next),m(",")),state.tokens.next.identifier&&(!t.property||!state.inES5()))switch(state.tokens.next.value){case"break":case"case":case"catch":case"continue":case"default":case"do":case"else":case"finally":case"for":case"if":case"in":case"instanceof":case"return":case"switch":case"throw":case"try":case"var":case"let":case"while":case"with":return d("E024",state.tokens.next,state.tokens.next.value),!1}if("(punctuator)"===state.tokens.next.type)switch(state.tokens.next.value){case"}":case"]":case",":if(t.allowTrailing)return!0;case")":return d("E024",state.tokens.next,state.tokens.next.value),!1}return!0}function O(t,e){var n=state.syntax[t];return n&&"object"==typeof n||(state.syntax[t]=n={id:t,lbp:e,value:t}),n}function I(t){var e=O(t,0);return e.delim=!0,e}function A(t,e){var n=I(t);return n.identifier=n.reserved=!0,n.fud=e,n}function T(t,e){var n=A(t,e);return n.block=!0,n}function N(t){var e=t.id.charAt(0);return(e>="a"&&e<="z"||e>="A"&&e<="Z")&&(t.identifier=t.reserved=!0),t}function M(t,e){var n=O(t,150);return N(n),n.nud="function"==typeof e?e:function(){return this.arity="unary",this.right=y(150),"++"!==this.id&&"--"!==this.id||(state.option.plusplus?l("W016",this,this.id):!this.right||this.right.identifier&&!s(this.right)||"."===this.right.id||"["===this.right.id||l("W017",this),this.right&&this.right.isMetaProperty?d("E031",this):this.right&&this.right.identifier&&state.funct["(scope)"].block.modify(this.right.value,this)),this},n}function J(t,e){var n=I(t);return n.type=t,n.nud=e,n}function P(t,e){var n=J(t,e);return n.identifier=!0,n.reserved=!0,n}function B(t,e){var n=J(t,e&&e.nud||function(){return this});return e=e||{},e.isFutureReservedWord=!0,n.value=t,n.identifier=!0,n.reserved=!0,n.meta=e,n}function C(t,e){return P(t,function(){return"function"==typeof e&&e(this),this})}function H(t,e,n,s){var a=O(t,n);return N(a),a.infix=!0,a.led=function(a){return s||E(state.tokens.prev,state.tokens.curr),"in"!==t&&"instanceof"!==t||"!"!==a.id||l("W018",a,"!"),"function"==typeof e?e(a,this):(this.left=a,this.right=y(n),this)},a}function q(t){var e=O(t,42);return e.infix=!0,e.led=function(t){return E(state.tokens.prev,state.tokens.curr),this.left=t,this.right=kt({type:"arrow",loneArg:t}),this},e}function D(t,e){var s=O(t,100);return s.infix=!0,s.led=function(t){E(state.tokens.prev,state.tokens.curr),this.left=t;var s=this.right=y(100);return n(t,"NaN")||n(s,"NaN")?l("W019",this):e&&e.apply(this,[t,s]),t&&s||u("E041",state.tokens.curr),"!"===t.id&&l("W018",t,"!"),"!"===s.id&&l("W018",s,"!"),this},s}function F(t,e,n){var s;return!n.option.notypeof&&(!(!t||!e)&&(s=n.inES6()?Kt.es6:Kt.es3,"(identifier)"===e.type&&"typeof"===e.value&&"(string)"===t.type&&!_.contains(s,t.value)))}function z(t,e){var n=!1;return"this"===t.type&&null===e.funct["(context)"]?n=!0:"(identifier)"===t.type&&(e.option.node&&"global"===t.value?n=!0:!e.option.browser||"window"!==t.value&&"document"!==t.value||(n=!0)),n}function L(t){function e(t){if("object"==typeof t)return"prototype"===t.right?t:e(t.left)}function n(t){for(;!t.identifier&&"object"==typeof t.left;)t=t.left;if(t.identifier&&s.indexOf(t.value)>=0&&state.funct["(scope)"].isPredefined(t.value))return t.value}var s=["Array","ArrayBuffer","Boolean","Collator","DataView","Date","DateTimeFormat","Error","EvalError","Float32Array","Float64Array","Function","Infinity","Intl","Int16Array","Int32Array","Int8Array","Iterator","Number","NumberFormat","Object","RangeError","ReferenceError","RegExp","StopIteration","String","SyntaxError","TypeError","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray","URIError"],a=e(t);if(a)return n(a)}function U(t,e,n){var a=n&&n.allowDestructuring;if(e=e||t,state.option.freeze){var r=L(t);r&&l("W121",t,r)}return At(t,"...")&&(t=t.right),t.identifier&&!t.isMetaProperty&&state.funct["(scope)"].block.reassign(t.value,t),"."===t.id?(t.left&&("arguments"!==t.left.value||state.isStrict())||l("E031",e),state.nameStack.set(state.tokens.prev),!0):"{"===t.id||"["===t.id?(a&&t.destructAssign||("{"!==t.id&&t.left?"arguments"!==t.left.value||state.isStrict()||l("E031",e):l("E031",e)),"["===t.id&&state.nameStack.set(t.right),!0):!t.identifier||s(t)||t.isMetaProperty?(t===state.syntax["function"]?l("W023",state.tokens.curr):d("E031",e),!1):("exception"===state.funct["(scope)"].labeltype(t.value)&&l("W022",t),state.nameStack.set(t),!0)}function $(t,e,n){var s=H(t,"function"==typeof e?e:function(t,e){return e.left=t,U(t,e,{allowDestructuring:!0}),e.right=y(10),e},n);return s.exps=!0,s.assign=!0,s}function R(t,e,n){var s=O(t,n);return N(s),s.infix=!0,s.led="function"==typeof e?e:function(t){return state.option.bitwise&&l("W016",this,this.id),this.left=t,this.right=y(n),this},s}function G(t){return $(t,function(t,e){return state.option.bitwise&&l("W016",e,e.id),U(t,e),e.right=y(10),e},20)}function Z(t){var e=O(t,150);return e.led=function(t){return state.option.plusplus?l("W016",this,this.id):t.identifier&&!s(t)||"."===t.id||"["===t.id||l("W017",this),t.isMetaProperty?d("E031",this):t&&t.identifier&&state.funct["(scope)"].block.modify(t.value,t),this.left=t,this},e}function V(t,e,n){if(state.tokens.next.identifier){n||m();var a=state.tokens.curr,r=state.tokens.curr.value;return s(a)?e&&state.inES5()?r:t&&"undefined"===r?r:(l("W024",state.tokens.curr,state.tokens.curr.id),r):r}}function K(t,e){var n=V(t,e,!1);if(n)return n;if("..."===state.tokens.next.value){if(state.inES6(!0)||l("W119",state.tokens.next,"spread/rest operator","6"),m(),At(state.tokens.next,"..."))for(l("E024",state.tokens.next,"...");At(state.tokens.next,"...");)m();return state.tokens.next.identifier?K(t,e):void l("E024",state.tokens.curr,state.tokens.next.id)}d("E030",state.tokens.next,state.tokens.next.value),";"!==state.tokens.next.id&&m()}function Q(t){var e,n=0;if(";"===state.tokens.next.id&&!t.inBracelessBlock)for(;;){do e=h(n),n+=1;while("(end)"!==e.id&&"(comment)"===e.id);if(e.reach)return;if("(endline)"!==e.id){if("function"===e.id){state.option.latedef===!0&&l("W026",e);break}l("W027",e,e.value,t.value);break}}}function X(t){if(";"!==state.tokens.next.id){if(state.tokens.next.isUnclosed)return m();var e=W(state.tokens.next)===state.tokens.curr.line&&"(end)"!==state.tokens.next.id,n=At(state.tokens.next,"}");!e||n||"do"===t.id&&state.inES6(!0)?state.option.asi||n&&e&&state.option.lastsemic||f("W033",state.tokens.curr.line,state.tokens.curr.character):k("E058",state.tokens.curr.line,state.tokens.curr.character)}else m(";")}function Y(){var t,e=Ht,n=state.tokens.next,a=!1;if(";"===n.id)return void m(";");var r=s(n);if(r&&n.meta&&n.meta.isFutureReservedWord&&":"===h().id&&(l("W024",n,n.id),r=!1),n.identifier&&!r&&":"===h().id&&(m(),m(":"),a=!0,state.funct["(scope)"].stack(),state.funct["(scope)"].block.addBreakLabel(n.value,{token:state.tokens.curr}),state.tokens.next.labelled||"{"===state.tokens.next.value||l("W028",state.tokens.next,n.value,state.tokens.next.value),state.tokens.next.label=n.value,n=state.tokens.next),"{"===n.id){var i="case"===state.funct["(verb)"]&&":"===state.tokens.curr.value;return nt(!0,!0,!1,!1,i),void(a&&state.funct["(scope)"].unstack())}return t=y(0,!0),!t||t.identifier&&"function"===t.value||"(punctuator)"===t.type&&t.left&&t.left.identifier&&"function"===t.left.value||!state.isStrict()&&state.stmtMissingStrict()&&l("E007"),n.block||(state.option.expr||t&&t.exps?state.option.nonew&&t&&t.left&&"("===t.id&&"new"===t.left.id&&l("W031",n):l("W030",state.tokens.curr),X(n)),Ht=e,a&&state.funct["(scope)"].unstack(),t}function tt(){for(var t,e=[];!state.tokens.next.reach&&"(end)"!==state.tokens.next.id;)";"===state.tokens.next.id?(t=h(),(!t||"("!==t.id&&"["!==t.id)&&l("W032"),m(";")):e.push(Y());return e}function et(){for(var t=state.tokens.next;"(string)"===state.tokens.next.id;){var e=x();if(!b(t,e))break;t=e,m();var n=state.tokens.curr.value;(state.directive[n]||"use strict"===n&&"implied"===state.option.strict)&&l("W034",state.tokens.curr,n),state.directive[n]=!0,X(t)}state.isStrict()&&(state.option.undef=!0)}function nt(t,e,n,s,a){var r,i,o,u,c,f=Ct,k=Ht;Ct=t,o=state.tokens.next;var p=state.funct["(metrics)"];if(p.nestedBlockDepth+=1,p.verifyMaxNestedBlockDepthPerFunction(),"{"===state.tokens.next.id){if(m("{"),state.funct["(scope)"].stack(),state.funct["(noblockscopedvar)"]=!1,u=state.tokens.curr.line,"}"!==state.tokens.next.id){for(Ht+=state.option.indent;!t&&state.tokens.next.from>Ht;)Ht+=state.option.indent;if(n){i={};for(c in state.directive)_.has(state.directive,c)&&(i[c]=state.directive[c]);et(),state.option.strict&&state.funct["(context)"]["(global)"]&&(i["use strict"]||state.isStrict()||l("E007"))}r=tt(),p.statementCount+=r.length,Ht-=state.option.indent}m("}",o),n&&(state.funct["(scope)"].validateParams(),i&&(state.directive=i)),state.funct["(scope)"].unstack(),Ht=k}else if(t)state.funct["(noblockscopedvar)"]="for"!==state.tokens.next.id,state.funct["(scope)"].stack(),e&&!state.option.curly||l("W116",state.tokens.next,"{",state.tokens.next.value),state.tokens.next.inBracelessBlock=!0,Ht+=state.option.indent,r=[Y()],Ht-=state.option.indent,state.funct["(scope)"].unstack(),delete state.funct["(noblockscopedvar)"];else if(n){if(state.funct["(scope)"].stack(),i={},!e||s||state.inMoz()||d("W118",state.tokens.curr,"function closure expressions"),!e)for(c in state.directive)_.has(state.directive,c)&&(i[c]=state.directive[c]);y(10),state.option.strict&&state.funct["(context)"]["(global)"]&&(i["use strict"]||state.isStrict()||l("E007")),state.funct["(scope)"].unstack()}else d("E021",state.tokens.next,"{",state.tokens.next.value);switch(state.funct["(verb)"]){case"break":case"continue":case"return":case"throw":if(a)break;default:state.funct["(verb)"]=null}return Ct=f,!t||!state.option.noempty||r&&0!==r.length||l("W035",state.tokens.prev),p.nestedBlockDepth-=1,r}function st(t){zt&&"boolean"!=typeof zt[t]&&l("W036",state.tokens.curr,t),"number"==typeof Ft[t]?Ft[t]+=1:Ft[t]=1}function at(){var t={};t.exps=!0,state.funct["(comparray)"].stack();var e=!1;return"for"!==state.tokens.next.value&&(e=!0,state.inMoz()||l("W116",state.tokens.next,"for",state.tokens.next.value),state.funct["(comparray)"].setState("use"),t.right=y(10)),m("for"),"each"===state.tokens.next.value&&(m("each"),state.inMoz()||l("W118",state.tokens.curr,"for each")),m("("),state.funct["(comparray)"].setState("define"),t.left=y(130),_.contains(["in","of"],state.tokens.next.value)?m():d("E045",state.tokens.curr),state.funct["(comparray)"].setState("generate"),y(10),m(")"),"if"===state.tokens.next.value&&(m("if"),m("("),state.funct["(comparray)"].setState("filter"),t.filter=y(10),m(")")),e||(state.funct["(comparray)"].setState("use"),t.right=y(10)),m("]"),state.funct["(comparray)"].unstack(),t}function rt(){return state.funct["(statement)"]&&"class"===state.funct["(statement)"].type||state.funct["(context)"]&&"class"===state.funct["(context)"]["(verb)"]}function it(t){return t.identifier||"(string)"===t.id||"(number)"===t.id}function ot(t){var e,n=!0;return"object"==typeof t?e=t:(n=t,e=V(!1,!0,n)),e?"object"==typeof e&&("(string)"===e.id||"(identifier)"===e.id?e=e.value:"(number)"===e.id&&(e=e.value.toString())):"(string)"===state.tokens.next.id?(e=state.tokens.next.value,n||m()):"(number)"===state.tokens.next.id&&(e=state.tokens.next.value.toString(),n||m()),"hasOwnProperty"===e&&l("W001"),e}function ut(t){function e(t){state.funct["(scope)"].addParam.apply(state.funct["(scope)"],t)}var n,s,a,r=[],i=[],o=!1,u=!1,c=0,f=t&&t.loneArg;if(f&&f.identifier===!0)return state.funct["(scope)"].addParam(f.value,f),{arity:1,params:[f.value]};if(n=state.tokens.next,t&&t.parsedOpening||m("("),")"===state.tokens.next.id)return void m(")");for(;;){c++;var k=[];if(_.contains(["{","["],state.tokens.next.id)){i=gt();for(a in i)a=i[a],a.id&&(r.push(a.id),k.push([a.id,a.token]))}else if(At(state.tokens.next,"...")&&(u=!0),s=K(!0))r.push(s),k.push([s,state.tokens.curr]);else for(;!It(state.tokens.next,[",",")"]);)m();if(o&&"="!==state.tokens.next.id&&d("W138",state.tokens.current),"="===state.tokens.next.id&&(state.inES6()||l("W119",state.tokens.next,"default parameters","6"),m("="),o=!0,y(10)),k.forEach(e),","!==state.tokens.next.id)return m(")",n),{arity:c,params:r};u&&l("W131",state.tokens.next),j()}}function ct(t,e,n){var s={"(name)":t,"(breakage)":0,"(loopage)":0,"(tokens)":{},"(properties)":{},"(catch)":!1,"(global)":!1,"(line)":null,"(character)":null,"(metrics)":null,"(statement)":null,"(context)":null,"(scope)":null,"(comparray)":null,"(generator)":null,"(arrow)":null,"(params)":null};return e&&_.extend(s,{"(line)":e.line,"(character)":e.character,"(metrics)":pt(e)}),_.extend(s,n),s["(context)"]&&(s["(scope)"]=s["(context)"]["(scope)"],s["(comparray)"]=s["(context)"]["(comparray)"]),s}function lt(t){return"(scope)"in t}function ft(t){return t["(global)"]&&!t["(verb)"]}function dt(t){function e(){if(state.tokens.curr.template&&state.tokens.curr.tail&&state.tokens.curr.context===n)return!0;var t=state.tokens.next.template&&state.tokens.next.tail&&state.tokens.next.context===n;return t&&m(),t||state.tokens.next.isUnclosed}var n=this.context,s=this.noSubst,a=this.depth,r="number"==typeof t?null:t;if(!s)for(;!e();)!state.tokens.next.template||state.tokens.next.depth>a?y(0):m();return{id:"(template)",type:"(template)",tag:r}}function kt(t){var e,n,s,a,r,i,o,u,c=state.option,f=state.ignored;t&&(s=t.name,a=t.statement,r=t.classExprBinding,i="generator"===t.type,o="arrow"===t.type,u=t.ignoreLoopFunc),state.option=Object.create(state.option),state.ignored=Object.create(state.ignored),state.funct=ct(s||state.nameStack.infer(),state.tokens.next,{"(statement)":a,"(context)":state.funct,"(arrow)":o,"(generator)":i}),e=state.funct,n=state.tokens.curr,n.funct=state.funct,Bt.push(state.funct),state.funct["(scope)"].stack("functionouter");var d=s||r;d&&state.funct["(scope)"].block.add(d,r?"class":"function",state.tokens.curr,!1),state.funct["(scope)"].stack("functionparams");var k=ut(t);return k?(state.funct["(params)"]=k.params,state.funct["(metrics)"].arity=k.arity,state.funct["(metrics)"].verifyMaxParametersPerFunction()):state.funct["(metrics)"].arity=0,o&&(state.inES6(!0)||l("W119",state.tokens.curr,"arrow function syntax (=>)","6"),t.loneArg||m("=>")),nt(!1,!0,!0,o),!state.option.noyield&&i&&"yielded"!==state.funct["(generator)"]&&l("W124",state.tokens.curr),state.funct["(metrics)"].verifyMaxStatementsPerFunction(),state.funct["(metrics)"].verifyMaxComplexityPerFunction(),state.funct["(unusedOption)"]=state.option.unused,state.option=c,state.ignored=f,state.funct["(last)"]=state.tokens.curr.line,state.funct["(lastcharacter)"]=state.tokens.curr.character,state.funct["(scope)"].unstack(),state.funct["(scope)"].unstack(),state.funct=state.funct["(context)"],u||state.option.loopfunc||!state.funct["(loopage)"]||e["(isCapturing)"]&&l("W083",n),e}function pt(t){return{statementCount:0,nestedBlockDepth:-1,ComplexityCount:1,arity:0,verifyMaxStatementsPerFunction:function(){state.option.maxstatements&&this.statementCount>state.option.maxstatements&&l("W071",t,this.statementCount)},verifyMaxParametersPerFunction:function(){_.isNumber(state.option.maxparams)&&this.arity>state.option.maxparams&&l("W072",t,this.arity)},verifyMaxNestedBlockDepthPerFunction:function(){state.option.maxdepth&&this.nestedBlockDepth>0&&this.nestedBlockDepth===state.option.maxdepth+1&&l("W073",null,this.nestedBlockDepth)},verifyMaxComplexityPerFunction:function(){var e=state.option.maxcomplexity,n=this.ComplexityCount;e&&n>e&&l("W074",t,n)}}}function vt(){state.funct["(metrics)"].ComplexityCount+=1}function ht(t){var e,n;switch(t&&(e=t.id,n=t.paren,","===e&&(t=t.exprs[t.exprs.length-1])&&(e=t.id,n=n||t.paren)),e){case"=":case"+=":case"-=":case"*=":case"%=":case"&=":case"|=":case"^=":case"/=":n||state.option.boss||l("W084")}}function xt(t){if(state.inES5())for(var e in t)t[e]&&t[e].setterToken&&!t[e].getterToken&&l("W078",t[e].setterToken)}function mt(t,e){if(At(state.tokens.next,".")){var n=state.tokens.curr.id;m(".");var s=K();return state.tokens.curr.isMetaProperty=!0,t!==s?d("E057",state.tokens.prev,n,s):e(),state.tokens.curr}}function gt(t){var e=t&&t.assignment;return state.inES6()||l("W104",state.tokens.curr,e?"destructuring assignment":"destructuring binding","6"),bt(t)}function bt(t){var e,n,s,a=[],r=t&&t.openingParsed,i=t&&t.assignment,o=i?{assignment:i}:null,u=r?state.tokens.curr:state.tokens.next,c=function(){var t;if(It(state.tokens.next,["[","{"])){e=bt(o);for(var n in e)n=e[n],a.push({id:n.id,token:n.token})}else if(At(state.tokens.next,","))a.push({id:null,token:state.tokens.curr});else{if(!At(state.tokens.next,"(")){var s=At(state.tokens.next,"...");if(i){var r=y(20);r&&(U(r),r.identifier&&(t=r.value))}else t=K();return t&&a.push({id:t,token:state.tokens.curr}),s}m("("),c(),m(")")}return!1},f=function(){var t;At(state.tokens.next,"[")?(m("["),y(10),m("]"),m(":"),c()):"(string)"===state.tokens.next.id||"(number)"===state.tokens.next.id?(m(),m(":"),c()):(t=K(),At(state.tokens.next,":")?(m(":"),c()):t&&(i&&U(state.tokens.curr),a.push({id:t,token:state.tokens.curr})))};if(At(u,"[")){r||m("["),At(state.tokens.next,"]")&&l("W137",state.tokens.curr);for(var d=!1;!At(state.tokens.next,"]");)c()&&!d&&At(state.tokens.next,",")&&(l("W130",state.tokens.next),d=!0),At(state.tokens.next,"=")&&(m(At(state.tokens.prev,"...")?"]":"="),n=state.tokens.prev,s=y(10),s&&"undefined"===s.type&&l("W080",n,n.value)),At(state.tokens.next,"]")||m(",");m("]")}else if(At(u,"{")){for(r||m("{"),At(state.tokens.next,"}")&&l("W137",state.tokens.curr);!At(state.tokens.next,"}")&&(f(),At(state.tokens.next,"=")&&(m("="),n=state.tokens.prev,s=y(10),s&&"undefined"===s.type&&l("W080",n,n.value)),At(state.tokens.next,"}")||(m(","),!At(state.tokens.next,"}"))););m("}")}return a}function yt(t,e){var n=e.first;n&&_.zip(t,Array.isArray(n)?n:[n]).forEach(function(t){var e=t[0],n=t[1];e&&n?e.first=n:e&&e.first&&!n&&l("W080",e.first,e.first.value)})}function Wt(t,e,n){var s,a,r,i,o=n&&n.prefix,u=n&&n.inexport,c="let"===t,f="const"===t;for(state.inES6()||l("W104",state.tokens.curr,t,"6"),c&&"("===state.tokens.next.value?(state.inMoz()||l("W118",state.tokens.next,"let block"),m("("),state.funct["(scope)"].stack(),i=!0):state.funct["(noblockscopedvar)"]&&d("E048",state.tokens.curr,f?"Const":"Let"),e.first=[];;){var k=[];_.contains(["{","["],state.tokens.next.value)?(s=gt(),a=!1):(s=[{id:K(),token:state.tokens.curr}],a=!0),!o&&f&&"="!==state.tokens.next.id&&l("E012",state.tokens.curr,state.tokens.curr.value);for(var p in s)s.hasOwnProperty(p)&&(p=s[p],state.funct["(scope)"].block.isGlobal()&&Lt[p.id]===!1&&l("W079",p.token,p.id),p.id&&!state.funct["(noblockscopedvar)"]&&(state.funct["(scope)"].addlabel(p.id,{type:t,token:p.token}),k.push(p.token)));if("="===state.tokens.next.id){m("="),!o&&"="===h(0).id&&state.tokens.next.identifier&&l("W120",state.tokens.next,state.tokens.next.value);var v=state.tokens.prev;r=y(o?120:10),!o&&r&&"undefined"===r.type&&l("W080",v,v.value),a?s[0].first=r:yt(k,r)}if(!o)for(p in s)s.hasOwnProperty(p)&&(p=s[p],state.funct["(scope)"].initialize(p.id),a&&u&&state.funct["(scope)"].setExported(p.token.value,p.token));if(e.first=e.first.concat(k),","!==state.tokens.next.id)break;j()}return i&&(m(")"),nt(!0,!0),e.block=!0,state.funct["(scope)"].unstack()),e}function Et(t,e){return state.inES6()||l("W104",state.tokens.curr,"class","6"),e?(this.name=K(),state.funct["(scope)"].addlabel(this.name,{type:"class",token:state.tokens.curr})):state.tokens.next.identifier&&"extends"!==state.tokens.next.value?(this.name=K(),this.namedExpr=!0):this.name=state.nameStack.infer(),St(this),e&&state.funct["(scope)"].initialize(this.name),this}function St(t){var e=state.inClassBody;"extends"===state.tokens.next.value&&(m("extends"),t.heritage=y(10)),state.inClassBody=!0,m("{"),t.body=wt(t),m("}"),state.inClassBody=e}function wt(t){for(var e,n,s,a,r,i=Object.create(null),o=Object.create(null),u=0;"}"!==state.tokens.next.id;++u)if(e=state.tokens.next,n=!1,s=!1,a=null,";"!==e.id){if("*"===e.id&&(s=!0,m("*"),e=state.tokens.next),"["===e.id)e=_t(),r=!0;else{if(!it(e)){l("W052",state.tokens.next,state.tokens.next.value||state.tokens.next.type),m();continue}m(),r=!1,e.identifier&&"static"===e.value&&(At(state.tokens.next,"*")&&(s=!0,m("*")),(it(state.tokens.next)||"["===state.tokens.next.id)&&(r="["===state.tokens.next.id,n=!0,e=state.tokens.next,"["===state.tokens.next.id?e=_t():m())),!e.identifier||"get"!==e.value&&"set"!==e.value||(it(state.tokens.next)||"["===state.tokens.next.id)&&(r="["===state.tokens.next.id,a=e,e=state.tokens.next,"["===state.tokens.next.id?e=_t():m())}if(!At(state.tokens.next,"(")){for(d("E054",state.tokens.next,state.tokens.next.value);"}"!==state.tokens.next.id&&!At(state.tokens.next,"(");)m();"("!==state.tokens.next.value&&kt({statement:t})}if(r||(a?Ot(a.value,n?o:i,e.value,e,!0,n):("constructor"===e.value?state.nameStack.set(t):state.nameStack.set(e),jt(n?o:i,e.value,e,!0,n))),a&&"constructor"===e.value){var c="get"===a.value?"class getter method":"class setter method";d("E049",e,c,"constructor")}else"prototype"===e.value&&d("E049",e,"class method","prototype");ot(e),kt({statement:t,type:s?"generator":null,classExprBinding:t.namedExpr?t.name:null})}else l("W032"),m(";");xt(i)}function jt(t,e,n,s,a){var r=["key","class method","static class method"];r=r[(s||!1)+(a||!1)],n.identifier&&(e=n.value),t[e]&&"__proto__"!==e?l("W075",state.tokens.next,r,e):t[e]=Object.create(null),t[e].basic=!0,t[e].basictkn=n}function Ot(t,e,n,s,a,r){var i="get"===t?"getterToken":"setterToken",o="";a?(r&&(o+="static "),o+=t+"ter method"):o="key",state.tokens.curr.accessorType=t,state.nameStack.set(s),e[n]?(e[n].basic||e[n][i])&&"__proto__"!==n&&l("W075",state.tokens.next,o,n):e[n]=Object.create(null),e[n][i]=s}function _t(){m("["),state.inES6()||l("W119",state.tokens.curr,"computed property names","6");var t=y(10);return m("]"),t}function It(t,e){return"(punctuator)"===t.type&&_.contains(e,t.value)}function At(t,e){return"(punctuator)"===t.type&&t.value===e;
}function Tt(){var t=se();t.notJson?(!state.inES6()&&t.isDestAssign&&l("W104",state.tokens.curr,"destructuring assignment","6"),tt()):(state.option.laxbreak=!0,state.jsonMode=!0,Nt())}function Nt(){function t(){var t={},e=state.tokens.next;if(m("{"),"}"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)d("E026",state.tokens.next,e.line);else{if("}"===state.tokens.next.id){l("W094",state.tokens.curr);break}","===state.tokens.next.id?d("E028",state.tokens.next):"(string)"!==state.tokens.next.id&&l("W095",state.tokens.next,state.tokens.next.value)}if(t[state.tokens.next.value]===!0?l("W075",state.tokens.next,"key",state.tokens.next.value):"__proto__"===state.tokens.next.value&&!state.option.proto||"__iterator__"===state.tokens.next.value&&!state.option.iterator?l("W096",state.tokens.next,state.tokens.next.value):t[state.tokens.next.value]=!0,m(),m(":"),Nt(),","!==state.tokens.next.id)break;m(",")}m("}")}function e(){var t=state.tokens.next;if(m("["),"]"!==state.tokens.next.id)for(;;){if("(end)"===state.tokens.next.id)d("E027",state.tokens.next,t.line);else{if("]"===state.tokens.next.id){l("W094",state.tokens.curr);break}","===state.tokens.next.id&&d("E028",state.tokens.next)}if(Nt(),","!==state.tokens.next.id)break;m(",")}m("]")}switch(state.tokens.next.id){case"{":t();break;case"[":e();break;case"true":case"false":case"null":case"(number)":case"(string)":m();break;case"-":m("-"),m("(number)");break;default:d("E003",state.tokens.next)}}function Mt(t,e,n){var s,a,r,i;for(a=0;a<t.length;a+=1)for(i=t[a],e.scope=i.elem,s=JSHINT.errors.length,ie(i.code,e,n),r=s;r<JSHINT.errors.length;r+=1)JSHINT.errors[r].line+=i.token.line-1}var Jt,Pt,Bt,Ct,Ht,qt,Dt,Ft,zt,Lt,Ut,$t,Rt={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},Gt=["closure","exception","global","label","outer","unused","var"],Zt=[],Vt=new events.EventEmitter,Kt={};Kt.legacy=["xml","unknown"],Kt.es3=["undefined","boolean","number","string","function","object"],Kt.es3=Kt.es3.concat(Kt.legacy),Kt.es6=Kt.es3.concat("symbol"),J("(number)",function(){return this}),J("(string)",function(){return this}),state.syntax["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var t=this.value;return"=>"===state.tokens.next.id?this:(state.funct["(comparray)"].check(t)||state.funct["(scope)"].block.use(t,state.tokens.curr),this)},led:function(){d("E033",state.tokens.next,state.tokens.next.value)}};var Qt={identifier:!1,template:!0};state.syntax["(template)"]=_.extend({lbp:155,type:"(template)",nud:dt,led:dt,noSubst:!1},Qt),state.syntax["(template middle)"]=_.extend({lbp:0,type:"(template middle)",middle:!0,noSubst:!1},Qt),state.syntax["(template tail)"]=_.extend({lbp:0,type:"(template tail)",tail:!0,noSubst:!1},Qt),state.syntax["(no subst template)"]=_.extend({lbp:155,type:"(template)",nud:dt,led:dt,noSubst:!0,tail:!0},Qt),J("(regexp)",function(){return this}),I("(endline)"),function(t){t.line=t.from=0}(I("(begin)")),I("(end)").reach=!0,I("(error)").reach=!0,I("}").reach=!0,I(")"),I("]"),I('"').reach=!0,I("'").reach=!0,I(";"),I(":").reach=!0,I("#"),P("else"),P("case").reach=!0,P("catch"),P("default").reach=!0,P("finally"),C("arguments",function(t){state.isStrict()&&state.funct["(global)"]&&l("E008",t)}),C("eval"),C("false"),C("Infinity"),C("null"),C("this",function(t){state.isStrict()&&!rt()&&!state.option.validthis&&(state.funct["(statement)"]&&state.funct["(name)"].charAt(0)>"Z"||state.funct["(global)"])&&l("W040",t)}),C("true"),C("undefined"),$("=","assign",20),$("+=","assignadd",20),$("-=","assignsub",20),$("*=","assignmult",20),$("/=","assigndiv",20).nud=function(){d("E014")},$("%=","assignmod",20),G("&="),G("|="),G("^="),G("<<="),G(">>="),G(">>>="),H(",",function(t,e){var n;if(e.exprs=[t],state.option.nocomma&&l("W127"),!j({peek:!0}))return e;for(;;){if(!(n=y(10)))break;if(e.exprs.push(n),","!==state.tokens.next.value||!j())break}return e},10,!0),H("?",function(t,e){return vt(),e.left=t,e.right=y(10),m(":"),e["else"]=y(10),e},30);var Xt=40;H("||",function(t,e){return vt(),e.left=t,e.right=y(Xt),e},Xt),H("&&","and",50),R("|","bitor",70),R("^","bitxor",80),R("&","bitand",90),D("==",function(t,e){var n=state.option.eqnull&&("null"===(t&&t.value)||"null"===(e&&e.value));switch(!0){case!n&&state.option.eqeqeq:this.from=this.character,l("W116",this,"===","==");break;case F(e,t,state):l("W122",this,e.value);break;case F(t,e,state):l("W122",this,t.value)}return this}),D("===",function(t,e){return F(e,t,state)?l("W122",this,e.value):F(t,e,state)&&l("W122",this,t.value),this}),D("!=",function(t,e){var n=state.option.eqnull&&("null"===(t&&t.value)||"null"===(e&&e.value));return!n&&state.option.eqeqeq?(this.from=this.character,l("W116",this,"!==","!=")):F(e,t,state)?l("W122",this,e.value):F(t,e,state)&&l("W122",this,t.value),this}),D("!==",function(t,e){return F(e,t,state)?l("W122",this,e.value):F(t,e,state)&&l("W122",this,t.value),this}),D("<"),D(">"),D("<="),D(">="),R("<<","shiftleft",120),R(">>","shiftright",120),R(">>>","shiftrightunsigned",120),H("in","in",120),H("instanceof",function(t,e){var n,s=state.funct["(scope)"];return e.left=t,e.right=n=y(120),n?(("(number)"===n.id||"(string)"===n.id||"null"===n.value||"undefined"===n.value&&!s.has("undefined")||"unary"===n.arity||"{"===n.id||"["===n.id&&!n.right||"(regexp)"===n.id||"(template)"===n.id&&!n.tag)&&d("E060"),"function"===n.id&&l("W139"),e):e},120),H("+",function(t,e){var n;return e.left=t,e.right=n=y(130),t&&n&&"(string)"===t.id&&"(string)"===n.id?(t.value+=n.value,t.character=n.character,!state.option.scripturl&&reg.javascriptURL.test(t.value)&&l("W050",t),t):e},130),M("+","num"),M("+++",function(){return l("W007"),this.arity="unary",this.right=y(150),this}),H("+++",function(t){return l("W007"),this.left=t,this.right=y(130),this},130),H("-","sub",130),M("-","neg"),M("---",function(){return l("W006"),this.arity="unary",this.right=y(150),this}),H("---",function(t){return l("W006"),this.left=t,this.right=y(130),this},130),H("*","mult",140),H("/","div",140),H("%","mod",140),Z("++"),M("++","preinc"),state.syntax["++"].exps=!0,state.syntax["++"].ltBoundary="before",Z("--"),M("--","predec"),state.syntax["--"].exps=!0,state.syntax["--"].ltBoundary="before",M("delete",function(){var t=y(10);return t?("."!==t.id&&"["!==t.id&&l("W051"),this.first=t,t.identifier&&!state.isStrict()&&(t.forgiveUndef=!0),this):this}).exps=!0,M("~",function(){return state.option.bitwise&&l("W016",this,"~"),this.arity="unary",this.right=y(150),this}),M("...",function(){return state.inES6(!0)||l("W119",this,"spread/rest operator","6"),state.tokens.next.identifier||"(string)"===state.tokens.next.type||It(state.tokens.next,["[","("])||d("E030",state.tokens.next,state.tokens.next.value),this.right=y(150),this}),M("!",function(){return this.arity="unary",this.right=y(150),this.right||u("E041",this),Rt[this.right.id]===!0&&l("W018",this,"!"),this}),M("typeof",function(){var t=y(150);return this.first=this.right=t,t||u("E041",this),t.identifier&&(t.forgiveUndef=!0),this}),M("new",function(){var t=mt("target",function(){state.inES6(!0)||l("W119",state.tokens.prev,"new.target","6");for(var t,e=state.funct;e&&(t=!e["(global)"],e["(arrow)"]);)e=e["(context)"];t||l("W136",state.tokens.prev,"new.target")});if(t)return t;var e,n=y(155);if(n&&"function"!==n.id)if(n.identifier)switch(n["new"]=!0,n.value){case"Number":case"String":case"Boolean":case"Math":case"JSON":l("W053",state.tokens.prev,n.value);break;case"Symbol":state.inES6()&&l("W053",state.tokens.prev,n.value);break;case"Function":state.option.evil||l("W054");break;case"Date":case"RegExp":case"this":break;default:"function"!==n.id&&(e=n.value.substr(0,1),state.option.newcap&&(e<"A"||e>"Z")&&!state.funct["(scope)"].isPredefined(n.value)&&l("W055",state.tokens.curr))}else"."!==n.id&&"["!==n.id&&"("!==n.id&&l("W056",state.tokens.curr);else state.option.supernew||l("W057",this);return"("===state.tokens.next.id||state.option.supernew||l("W058",state.tokens.curr,state.tokens.curr.value),this.first=this.right=n,this}),state.syntax["new"].exps=!0,M("void").exps=!0,H(".",function(t,e){var n=K(!1,!0);return"string"==typeof n&&st(n),e.left=t,e.right=n,n&&"hasOwnProperty"===n&&"="===state.tokens.next.value&&l("W001"),!t||"arguments"!==t.value||"callee"!==n&&"caller"!==n?state.option.evil||!t||"document"!==t.value||"write"!==n&&"writeln"!==n||l("W060",t):state.option.noarg?l("W059",t,n):state.isStrict()&&d("E008"),state.option.evil||"eval"!==n&&"execScript"!==n||z(t,state)&&l("W061"),e},160,!0),H("(",function(t,e){state.option.immed&&t&&!t.immed&&"function"===t.id&&l("W062");var n=0,s=[];if(t&&"(identifier)"===t.type&&t.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&"Array Number String Boolean Date Object Error Symbol".indexOf(t.value)===-1&&("Math"===t.value?l("W063",t):state.option.newcap&&l("W064",t)),")"!==state.tokens.next.id)for(;s[s.length]=y(10),n+=1,","===state.tokens.next.id;)j();return m(")"),"object"==typeof t&&(state.inES5()||"parseInt"!==t.value||1!==n||l("W065",state.tokens.curr),state.option.evil||("eval"===t.value||"Function"===t.value||"execScript"===t.value?l("W061",t):!s[0]||"(string)"!==s[0].id||"setTimeout"!==t.value&&"setInterval"!==t.value?!s[0]||"(string)"!==s[0].id||"."!==t.value||"window"!==t.left.value||"setTimeout"!==t.right&&"setInterval"!==t.right||(l("W066",t),p(t,s[0])):(l("W066",t),p(t,s[0]))),t.identifier||"."===t.id||"["===t.id||"=>"===t.id||"("===t.id||"&&"===t.id||"||"===t.id||"?"===t.id||state.inES6()&&t["(name)"]||l("W067",e)),e.left=t,e},155,!0).exps=!0,M("(",function(t){var e,n,s,a,r,i=state.tokens.next,o=-1,u=1,c=state.tokens.curr,f=state.tokens.prev,d=!state.option.singleGroups;do"("===i.value?u+=1:")"===i.value&&(u-=1),o+=1,e=i,i=h(o);while((0!==u||")"!==e.value)&&"(end)"!==i.type);if("function"===state.tokens.next.id&&(s=state.tokens.next.immed=!0),"=>"===i.value)return kt({type:"arrow",parsedOpening:!0});var k=[];if(")"!==state.tokens.next.id)for(;k.push(y(10)),","===state.tokens.next.id;)state.option.nocomma&&l("W127"),j();return m(")",this),state.option.immed&&k[0]&&"function"===k[0].id&&"("!==state.tokens.next.id&&"."!==state.tokens.next.id&&"["!==state.tokens.next.id&&l("W068",this),k.length?(k.length>1?(n=Object.create(state.syntax[","]),n.exprs=k,a=k[0],r=k[k.length-1]):(n=a=r=k[0],d||(d=c.beginsStmt&&("{"===n.id||s||lt(n))||s&&(!b()||"}"!==state.tokens.prev.id)||lt(n)&&!b()||"{"===n.id&&"=>"===f.id||"(number)"===n.type&&At(i,".")&&/^\d+$/.test(n.value)||c.beginsStmt&&"="===n.id&&"{"===n.left.id)),n&&(d||!g(a)&&!n.exprs||(d=t>a.lbp||t>0&&t===a.lbp||!b()&&r.lbp<state.tokens.next.lbp),d||l("W126",c),n.paren=!0),n):void 0}),q("=>"),H("[",function(t,e){var n,a=y(10);return a&&"(string)"===a.type&&(state.option.evil||"eval"!==a.value&&"execScript"!==a.value||z(t,state)&&l("W061"),st(a.value),!state.option.sub&&reg.identifier.test(a.value)&&(n=state.syntax[a.value],n&&s(n)||l("W069",state.tokens.prev,a.value))),m("]",e),a&&"hasOwnProperty"===a.value&&"="===state.tokens.next.value&&l("W001"),e.left=t,e.right=a,e},160,!0),M("[",function(){var t=se();if(t.isCompArray)return state.option.esnext||state.inMoz()||l("W118",state.tokens.curr,"array comprehension"),at();if(t.isDestAssign)return this.destructAssign=gt({openingParsed:!0,assignment:!0}),this;var e=state.tokens.curr.line!==W(state.tokens.next);for(this.first=[],e&&(Ht+=state.option.indent,state.tokens.next.from===Ht+state.option.indent&&(Ht+=state.option.indent));"(end)"!==state.tokens.next.id;){for(;","===state.tokens.next.id;){if(!state.option.elision){if(state.inES5()){l("W128");do m(",");while(","===state.tokens.next.id);continue}l("W070")}m(",")}if("]"===state.tokens.next.id)break;if(this.first.push(y(10)),","!==state.tokens.next.id){state.option.trailingcomma&&state.inES5()&&f("W140",state.tokens.curr.line,state.tokens.curr.character);break}if(j({allowTrailing:!0}),"]"===state.tokens.next.id&&!state.inES5()){l("W070",state.tokens.curr);break}}return e&&(Ht-=state.option.indent),m("]",this),this}),function(t){t.nud=function(){var t,e,n,s,a,r,i=!1,o=Object.create(null);t=state.tokens.curr.line!==W(state.tokens.next),t&&(Ht+=state.option.indent,state.tokens.next.from===Ht+state.option.indent&&(Ht+=state.option.indent));var u=se();if(u.isDestAssign)return this.destructAssign=gt({openingParsed:!0,assignment:!0}),this;for(;"}"!==state.tokens.next.id;){if(r=state.tokens.next.value,!state.tokens.next.identifier||","!==x().id&&"}"!==x().id)if(":"===h().id||"get"!==r&&"set"!==r){if("*"===state.tokens.next.value&&"(punctuator)"===state.tokens.next.type?(state.inES6()||l("W104",state.tokens.next,"generator functions","6"),m("*"),i=!0):i=!1,"["===state.tokens.next.id)n=_t(),state.nameStack.set(n);else if(state.nameStack.set(state.tokens.next),n=ot(),jt(o,n,state.tokens.next),"string"!=typeof n)break;"("===state.tokens.next.value?(state.inES6()||l("W104",state.tokens.curr,"concise methods","6"),kt({type:i?"generator":null})):(m(":"),y(10))}else m(r),state.inES5()||d("E034"),n=ot(),n||state.inES6()||d("E035"),n&&Ot(r,o,n,state.tokens.curr),a=state.tokens.next,e=kt(),s=e["(params)"],"get"===r&&n&&s?l("W076",a,s[0],n):"set"===r&&n&&1!==e["(metrics)"].arity&&l("W077",a,n);else state.inES6()||l("W104",state.tokens.next,"object short notation","6"),n=ot(!0),jt(o,n,state.tokens.next),y(10);if(st(n),","!==state.tokens.next.id){state.option.trailingcomma&&state.inES5()&&f("W140",state.tokens.curr.line,state.tokens.curr.character);break}j({allowTrailing:!0,property:!0}),","===state.tokens.next.id?l("W070",state.tokens.curr):"}"!==state.tokens.next.id||state.inES5()||l("W070",state.tokens.curr)}return t&&(Ht-=state.option.indent),m("}",this),xt(o),this},t.fud=function(){d("E036",state.tokens.curr)}}(I("{"));var Yt=A("const",function(t){return Wt("const",this,t)});Yt.exps=!0;var te=A("let",function(t){return Wt("let",this,t)});te.exps=!0;var ee=A("var",function(t){var e,n,s,a=t&&t.prefix,r=t&&t.inexport;for(this.first=[];;){var i=[];_.contains(["{","["],state.tokens.next.value)?(e=gt(),n=!1):(e=[{id:K(),token:state.tokens.curr}],n=!0),state.option.varstmt&&l("W132",this),this.first=this.first.concat(i);for(var o in e)e.hasOwnProperty(o)&&(o=e[o],state.funct["(global)"]&&!state.impliedClosure()&&(Lt[o.id]===!1?l("W079",o.token,o.id):state.option.futurehostile===!1&&(!state.inES5()&&vars.ecmaIdentifiers[5][o.id]===!1||!state.inES6()&&vars.ecmaIdentifiers[6][o.id]===!1)&&l("W129",o.token,o.id)),o.id&&(state.funct["(scope)"].addlabel(o.id,{type:"var",token:o.token}),n&&r&&state.funct["(scope)"].setExported(o.id,o.token),i.push(o.token)));if("="===state.tokens.next.id){state.nameStack.set(state.tokens.curr),m("="),"="===h(0).id&&state.tokens.next.identifier&&((a||state.funct["(params)"])&&state.funct["(params)"].indexOf(state.tokens.next.value)!==-1||l("W120",state.tokens.next,state.tokens.next.value));var u=state.tokens.prev;s=y(a?120:10),!s||a||state.funct["(loopage)"]||"undefined"!==s.type||l("W080",u,u.value),n?e[0].first=s:yt(i,s)}if(","!==state.tokens.next.id)break;j()}return this});ee.exps=!0,T("class",function(t){return Et.call(this,t,!0)}),T("function",function(t){var e=t&&t.inexport,n=!1;"*"===state.tokens.next.value&&(m("*"),state.inES6(!0)?n=!0:l("W119",state.tokens.curr,"function*","6")),Ct&&l("W082",state.tokens.curr);var s=V();return state.funct["(scope)"].addlabel(s,{type:"function",token:state.tokens.curr}),void 0===s?l("W025"):e&&state.funct["(scope)"].setExported(s,state.tokens.prev),kt({name:s,statement:this,type:n?"generator":null,ignoreLoopFunc:Ct}),"("===state.tokens.next.id&&state.tokens.next.line===state.tokens.curr.line&&d("E039"),this}),M("function",function(){var t=!1;"*"===state.tokens.next.value&&(state.inES6()||l("W119",state.tokens.curr,"function*","6"),m("*"),t=!0);var e=V();return kt({name:e,type:t?"generator":null}),this}),T("if",function(){var t=state.tokens.next;vt(),state.condition=!0,m("(");var e=y(0);e||u("E041",this),ht(e);var n=null;state.option.forin&&state.forinifcheckneeded&&(state.forinifcheckneeded=!1,n=state.forinifchecks[state.forinifchecks.length-1],"(punctuator)"===e.type&&"!"===e.value?n.type="(negative)":n.type="(positive)"),m(")",t),state.condition=!1;var s=nt(!0,!0);return n&&"(negative)"===n.type&&s&&s[0]&&"(identifier)"===s[0].type&&"continue"===s[0].value&&(n.type="(negative-with-continue)"),"else"===state.tokens.next.id&&(m("else"),"if"===state.tokens.next.id||"switch"===state.tokens.next.id?Y():nt(!0,!0)),this}),T("try",function(){function t(){if(m("catch"),m("("),state.funct["(scope)"].stack("catchparams"),It(state.tokens.next,["[","{"])){var t=gt();_.each(t,function(t){t.id&&state.funct["(scope)"].addParam(t.id,t,"exception")})}else"(identifier)"!==state.tokens.next.type?l("E030",state.tokens.next,state.tokens.next.value):state.funct["(scope)"].addParam(K(),state.tokens.curr,"exception");"if"===state.tokens.next.value&&(state.inMoz()||l("W118",state.tokens.curr,"catch filter"),m("if"),y(0)),m(")"),nt(!1),state.funct["(scope)"].unstack()}var e;for(nt(!0);"catch"===state.tokens.next.id;)vt(),e&&!state.inMoz()&&l("W118",state.tokens.next,"multiple catch blocks"),t(),e=!0;return"finally"===state.tokens.next.id?(m("finally"),void nt(!0)):(e||d("E021",state.tokens.next,"catch",state.tokens.next.value),this)}),T("while",function(){var t=state.tokens.next;return state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,vt(),m("("),ht(y(0)),m(")",t),nt(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this}).labelled=!0,T("with",function(){var t=state.tokens.next;return state.isStrict()?d("E010",state.tokens.curr):state.option.withstmt||l("W085",state.tokens.curr),m("("),y(0),m(")",t),nt(!0,!0),this}),T("switch",function(){var t=state.tokens.next,e=!1,n=!1;for(state.funct["(breakage)"]+=1,m("("),ht(y(0)),m(")",t),t=state.tokens.next,m("{"),state.tokens.next.from===Ht&&(n=!0),n||(Ht+=state.option.indent),this.cases=[];;)switch(state.tokens.next.id){case"case":switch(state.funct["(verb)"]){case"yield":case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:state.tokens.curr.caseFallsThrough||l("W086",state.tokens.curr,"case")}m("case"),this.cases.push(y(0)),vt(),e=!0,m(":"),state.funct["(verb)"]="case";break;case"default":switch(state.funct["(verb)"]){case"yield":case"break":case"continue":case"return":case"throw":break;default:this.cases.length&&(state.tokens.curr.caseFallsThrough||l("W086",state.tokens.curr,"default"))}m("default"),e=!0,m(":");break;case"}":return n||(Ht-=state.option.indent),m("}",t),state.funct["(breakage)"]-=1,void(state.funct["(verb)"]=void 0);case"(end)":return void d("E023",state.tokens.next,"}");default:if(Ht+=state.option.indent,e)switch(state.tokens.curr.id){case",":return void d("E040");case":":e=!1,tt();break;default:return void d("E025",state.tokens.curr)}else{if(":"!==state.tokens.curr.id)return void d("E021",state.tokens.next,"case",state.tokens.next.value);m(":"),d("E024",state.tokens.curr,":"),tt()}Ht-=state.option.indent}return this}).labelled=!0,A("debugger",function(){return state.option.debug||l("W087",this),this}).exps=!0,function(){var t=A("do",function(){state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,vt(),this.first=nt(!0,!0),m("while");var t=state.tokens.next;return m("("),ht(y(0)),m(")",t),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1,this});t.labelled=!0,t.exps=!0}(),T("for",function(){var t,e=state.tokens.next,n=!1,s=null;"each"===e.value&&(s=e,m("each"),state.inMoz()||l("W118",state.tokens.curr,"for each")),vt(),m("(");var a,r,i,o,u,c,f=0,k=["in","of"],p=0;It(state.tokens.next,["{","["])&&++p;do{if(a=h(f),++f,It(a,["{","["])?++p:It(a,["}","]"])&&--p,p<0)break;0===p&&(!r&&At(a,",")?r=a:!i&&At(a,"=")&&(i=a))}while(p>0||!_.contains(k,a.value)&&";"!==a.value&&"(end)"!==a.type);if(_.contains(k,a.value)){if("of"===a.value?(o=20,state.inES6()||l("W104",a,"for of","6")):o=0,i&&d("W133",r,a.value,"initializer is forbidden"),r&&d("W133",r,a.value,"more than one ForBinding"),"var"===state.tokens.next.id)m("var"),state.tokens.curr.fud({prefix:!0});else if("let"===state.tokens.next.id||"const"===state.tokens.next.id)m(state.tokens.next.id),n=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud({prefix:!0});else{u=[];do It(state.tokens.next,["{","["])?gt({assignment:!0}).forEach(function(t){this.push(t.token)},u):(c=y(120),"(identifier)"===c.type&&u.push(c),U(c,a)),At(state.tokens.next,"=")&&(m("="),y(120)),At(state.tokens.next,",")&&m(",");while(state.tokens.next!==a);i||r||u.forEach(function(t){state.funct["(scope)"].has(t.value)||l("W088",t,t.value)})}if(m(a.value),y(o),m(")",e),"in"===a.value&&state.option.forin&&(state.forinifcheckneeded=!0,void 0===state.forinifchecks&&(state.forinifchecks=[]),state.forinifchecks.push({type:"(none)"})),state.funct["(breakage)"]+=1,state.funct["(loopage)"]+=1,t=nt(!0,!0),"in"===a.value&&state.option.forin){if(state.forinifchecks&&state.forinifchecks.length>0){var v=state.forinifchecks.pop();(t&&t.length>0&&("object"!=typeof t[0]||"if"!==t[0].value)||"(positive)"===v.type&&t.length>1||"(negative)"===v.type)&&l("W089",this)}state.forinifcheckneeded=!1}state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}else{if(s&&d("E045",s),";"!==state.tokens.next.id)if("var"===state.tokens.next.id)m("var"),state.tokens.curr.fud();else if("let"===state.tokens.next.id)m("let"),n=!0,state.funct["(scope)"].stack(),state.tokens.curr.fud();else for(;y(0,"for"),","===state.tokens.next.id;)j();if(S(state.tokens.curr),m(";"),state.funct["(loopage)"]+=1,";"!==state.tokens.next.id&&ht(y(0)),S(state.tokens.curr),m(";"),";"===state.tokens.next.id&&d("E021",state.tokens.next,")",";"),")"!==state.tokens.next.id)for(;y(0,"for"),","===state.tokens.next.id;)j();m(")",e),state.funct["(breakage)"]+=1,nt(!0,!0),state.funct["(breakage)"]-=1,state.funct["(loopage)"]-=1}return n&&state.funct["(scope)"].unstack(),this}).labelled=!0,A("break",function(){var t=state.tokens.next.value;return state.option.asi||S(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line!==W(state.tokens.next)?0===state.funct["(breakage)"]&&l("W052",state.tokens.next,this.value):(state.funct["(scope)"].funct.hasBreakLabel(t)||l("W090",state.tokens.next,t),this.first=state.tokens.next,m()),Q(this),this}).exps=!0,A("continue",function(){var t=state.tokens.next.value;return 0!==state.funct["(breakage)"]&&state.funct["(loopage)"]||l("W052",state.tokens.next,this.value),state.option.asi||S(this),";"===state.tokens.next.id||state.tokens.next.reach||state.tokens.curr.line===W(state.tokens.next)&&(state.funct["(scope)"].funct.hasBreakLabel(t)||l("W090",state.tokens.next,t),this.first=state.tokens.next,m()),Q(this),this}).exps=!0,A("return",function(){return this.line===W(state.tokens.next)?";"===state.tokens.next.id||state.tokens.next.reach||(this.first=y(0),!this.first||"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||f("W093",this.first.line,this.first.character)):"(punctuator)"===state.tokens.next.type&&["[","{","+","-"].indexOf(state.tokens.next.value)>-1&&S(this),Q(this),this}).exps=!0,function(t){t.exps=!0,t.lbp=25,t.ltBoundary="after"}(M("yield",function(){if(state.inMoz())return ne.call(this);var t=state.tokens.prev;!this.beginsStmt&&t.lbp>30&&!It(t,["("])&&d("E061",this),state.inES6(!0)&&!state.funct["(generator)"]?"(catch)"===state.funct["(name)"]&&state.funct["(context)"]["(generator)"]||d("E046",state.tokens.curr,"yield"):state.inES6()||l("W104",state.tokens.curr,"yield","6"),state.funct["(generator)"]="yielded";var e=!1;return"*"===state.tokens.next.value&&(e=!0,m("*")),b()||","===state.tokens.next.id||(state.tokens.next.nud?(E(state.tokens.curr,state.tokens.next),this.first=y(10),"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||f("W093",this.first.line,this.first.character)):state.tokens.next.led&&","!==state.tokens.next.id&&d("W017",state.tokens.next)),this}));var ne=function(){var t=state.tokens.prev;state.inES6(!0)&&!state.funct["(generator)"]&&("(catch)"===state.funct["(name)"]&&state.funct["(context)"]["(generator)"]||d("E046",state.tokens.curr,"yield")),state.funct["(generator)"]="yielded";var e=!1;return"*"===state.tokens.next.value&&(e=!0,m("*")),this.line===W(state.tokens.next)?((e||";"!==state.tokens.next.id&&!state.option.asi&&!state.tokens.next.reach&&state.tokens.next.nud)&&(E(state.tokens.curr,state.tokens.next),this.first=y(10),"(punctuator)"!==this.first.type||"="!==this.first.value||this.first.paren||state.option.boss||f("W093",this.first.line,this.first.character)),")"!==state.tokens.next.id&&(t.lbp>30||!t.assign&&!b()||"yield"===t.id)&&d("E050",this)):state.option.asi||S(this),this};A("throw",function(){return S(this),this.first=y(20),Q(this),this}).exps=!0,A("import",function(){if(state.funct["(scope)"].block.isGlobal()||d("E053",state.tokens.curr,"Import"),state.inES6()||l("W119",state.tokens.curr,"import","6"),"(string)"===state.tokens.next.type)return m("(string)"),this;if(state.tokens.next.identifier){if(this.name=K(),state.funct["(scope)"].addlabel(this.name,{type:"import",initialized:!0,token:state.tokens.curr}),","!==state.tokens.next.value)return m("from"),m("(string)"),this;m(",")}if("*"===state.tokens.next.id)m("*"),m("as"),state.tokens.next.identifier&&(this.name=K(),state.funct["(scope)"].addlabel(this.name,{type:"import",initialized:!0,token:state.tokens.curr}));else for(m("{");;){if("}"===state.tokens.next.value){m("}");break}var t;if("default"===state.tokens.next.type?(t="default",m("default")):t=K(),"as"===state.tokens.next.value&&(m("as"),t=K()),state.funct["(scope)"].addlabel(t,{type:"import",initialized:!0,token:state.tokens.curr}),","!==state.tokens.next.value){if("}"===state.tokens.next.value){m("}");break}d("E024",state.tokens.next,state.tokens.next.value);break}m(",")}return m("from"),m("(string)"),this}).exps=!0,A("export",function(){var t,e,n=!0;if(state.inES6()||(l("W119",state.tokens.curr,"export","6"),n=!1),state.funct["(scope)"].block.isGlobal()||(d("E053",state.tokens.curr,"Export"),n=!1),"*"===state.tokens.next.value)return m("*"),m("from"),m("(string)"),this;if("default"===state.tokens.next.type){state.nameStack.set(state.tokens.next),m("default");var s=state.tokens.next.id;return"function"!==s&&"class"!==s||(this.block=!0),t=h(),y(10),e=t.value,this.block&&(state.funct["(scope)"].addlabel(e,{type:s,initialized:!0,token:t}),state.funct["(scope)"].setExported(e,t)),this}if("{"===state.tokens.next.value){m("{");for(var a=[];;){if(state.tokens.next.identifier||d("E030",state.tokens.next,state.tokens.next.value),m(),a.push(state.tokens.curr),"as"===state.tokens.next.value&&(m("as"),state.tokens.next.identifier||d("E030",state.tokens.next,state.tokens.next.value),m()),","!==state.tokens.next.value){if("}"===state.tokens.next.value){m("}");break}d("E024",state.tokens.next,state.tokens.next.value);break}m(",")}return"from"===state.tokens.next.value?(m("from"),m("(string)")):n&&a.forEach(function(t){state.funct["(scope)"].setExported(t.value,t)}),this}if("var"===state.tokens.next.id)m("var"),state.tokens.curr.fud({inexport:!0});else if("let"===state.tokens.next.id)m("let"),state.tokens.curr.fud({inexport:!0});else if("const"===state.tokens.next.id)m("const"),state.tokens.curr.fud({inexport:!0});else if("function"===state.tokens.next.id)this.block=!0,m("function"),state.syntax["function"].fud({inexport:!0});else if("class"===state.tokens.next.id){this.block=!0,m("class");var r=state.tokens.next;state.syntax["class"].fud(),state.funct["(scope)"].setExported(r.value,r)}else d("E024",state.tokens.next,state.tokens.next.value);return this}).exps=!0,B("abstract"),B("await",{es5:!0,moduleOnly:!0}),B("boolean"),B("byte"),B("char"),B("class",{es5:!0,nud:Et}),B("double"),B("enum",{es5:!0}),B("export",{es5:!0}),B("extends",{es5:!0}),B("final"),B("float"),B("goto"),B("implements",{es5:!0,strictOnly:!0}),B("import",{es5:!0}),B("int"),B("interface",{es5:!0,strictOnly:!0}),B("long"),B("native"),B("package",{es5:!0,strictOnly:!0}),B("private",{es5:!0,strictOnly:!0}),B("protected",{es5:!0,strictOnly:!0}),B("public",{es5:!0,strictOnly:!0}),B("short"),B("static",{es5:!0,strictOnly:!0}),B("super",{es5:!0}),B("synchronized"),B("transient"),B("volatile");var se=function(){var t,e,n,s=-1,a=0,r={};It(state.tokens.curr,["[","{"])&&(a+=1);do{if(n=s===-1?state.tokens.curr:t,t=s===-1?state.tokens.next:h(s),e=h(s+1),s+=1,It(t,["[","{"])?a+=1:It(t,["]","}"])&&(a-=1),1===a&&t.identifier&&"for"===t.value&&!At(n,".")){r.isCompArray=!0,r.notJson=!0;break}if(0===a&&It(t,["}","]"])){if("="===e.value){r.isDestAssign=!0,r.notJson=!0;break}if("."===e.value){r.notJson=!0;break}}At(t,";")&&(r.isBlock=!0,r.notJson=!0)}while(a>0&&"(end)"!==t.id);return r},ae=function(){function t(t){var e=n.variables.filter(function(e){if(e.value===t)return e.undef=!1,t}).length;return 0!==e}function e(t){var e=n.variables.filter(function(e){if(e.value===t&&!e.undef)return e.unused===!0&&(e.unused=!1),t}).length;return 0===e}var n,s=function(){this.mode="use",this.variables=[]},a=[];return{stack:function(){n=new s,a.push(n)},unstack:function(){n.variables.filter(function(t){t.unused&&l("W098",t.token,t.raw_text||t.value),t.undef&&state.funct["(scope)"].block.use(t.value,t.token)}),a.splice(-1,1),n=a[a.length-1]},setState:function(t){_.contains(["use","define","generate","filter"],t)&&(n.mode=t)},check:function(s){if(n)return n&&"use"===n.mode?(e(s)&&n.variables.push({funct:state.funct,token:state.tokens.curr,value:s,undef:!0,unused:!1}),!0):n&&"define"===n.mode?(t(s)||n.variables.push({funct:state.funct,token:state.tokens.curr,value:s,undef:!1,unused:!0}),!0):n&&"generate"===n.mode?(state.funct["(scope)"].block.use(s,state.tokens.curr),!0):!(!n||"filter"!==n.mode)&&(e(s)&&state.funct["(scope)"].block.use(s,state.tokens.curr),!0)}}},re=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},ie=function(n,s,a){function i(t,e){t&&(Array.isArray(t)||"object"!=typeof t||(t=Object.keys(t)),t.forEach(e))}var c,p,v,h,x={},g={};s=_.clone(s),state.reset(),s&&s.scope?JSHINT.scope=s.scope:(JSHINT.errors=[],JSHINT.undefs=[],JSHINT.internals=[],JSHINT.blacklist={},JSHINT.scope="(main)"),Lt=Object.create(null),r(Lt,vars.ecmaIdentifiers[3]),r(Lt,vars.reservedVars),r(Lt,a||{}),Pt=Object.create(null);var b=Object.create(null);if(s)for(i(s.predef||null,function(t){var e,n;"-"===t[0]?(e=t.slice(1),JSHINT.blacklist[e]=e,delete Lt[e]):(n=Object.getOwnPropertyDescriptor(s.predef,t),Lt[t]=!!n&&n.value)}),i(s.exported||null,function(t){b[t]=!0}),delete s.predef,delete s.exported,h=Object.keys(s),c=0;c<h.length;c++)if(/^-W\d{3}$/g.test(h[c]))g[h[c].slice(1)]=!0;else{var y=h[c];x[y]=s[y]}state.option=x,state.ignored=g,state.option.indent=state.option.indent||4,state.option.maxerr=state.option.maxerr||50,Ht=1;var W=scopeManager(state,Lt,b,Pt);if(W.on("warning",function(t){l.apply(null,[t.code,t.token].concat(t.data))}),W.on("error",function(t){d.apply(null,[t.code,t.token].concat(t.data))}),state.funct=ct("(global)",null,{"(global)":!0,"(scope)":W,"(comparray)":ae(),"(metrics)":pt(state.tokens.next)}),Bt=[state.funct],$t=[],Ut=null,Ft={},zt=null,Ct=!1,qt=[],!e(n)&&!Array.isArray(n))return k("E004",0),!1;Jt={get isJSON(){return state.jsonMode},getOption:function(t){return state.option[t]||null},getCache:function(t){return state.cache[t]},setCache:function(t,e){state.cache[t]=e},warn:function(t,e){f.apply(null,[t,e.line,e["char"]].concat(e.data))},on:function(t,e){t.split(" ").forEach(function(t){Vt.on(t,e)}.bind(this))}},Vt.removeAllListeners(),(Zt||[]).forEach(function(t){t(Jt)}),state.tokens.prev=state.tokens.curr=state.tokens.next=state.syntax["(begin)"],s&&s.ignoreDelimiters&&(Array.isArray(s.ignoreDelimiters)||(s.ignoreDelimiters=[s.ignoreDelimiters]),s.ignoreDelimiters.forEach(function(t){t.start&&t.end&&(p=re(t.start)+"[\\s\\S]*?"+re(t.end),v=new RegExp(p,"ig"),n=n.replace(v,function(t){return t.replace(/./g," ")}))})),Dt=new Lexer(n),Dt.on("warning",function(t){f.apply(null,[t.code,t.line,t.character].concat(t.data));
}),Dt.on("error",function(t){k.apply(null,[t.code,t.line,t.character].concat(t.data))}),Dt.on("fatal",function(t){u("E041",t)}),Dt.on("Identifier",function(t){Vt.emit("Identifier",t)}),Dt.on("String",function(t){Vt.emit("String",t)}),Dt.on("Number",function(t){Vt.emit("Number",t)});for(var E in s)_.has(s,E)&&t(E,state.tokens.curr);try{switch(o(),r(Lt,a||{}),j.first=!0,m(),state.tokens.next.id){case"{":case"[":Tt();break;default:et(),state.directive["use strict"]&&(state.allowsGlobalUsd()||l("W097",state.tokens.prev)),tt()}"(end)"!==state.tokens.next.id&&u("E041",state.tokens.curr),state.funct["(scope)"].unstack()}catch(S){if(!S||"JSHintError"!==S.name)throw S;var w=state.tokens.next||{};JSHINT.errors.push({scope:"(main)",raw:S.raw,code:S.code,reason:S.reason,line:S.line||w.line,character:S.character||w.from})}return"(main)"===JSHINT.scope&&Mt(JSHINT.internals,s||{},a),0===JSHINT.errors.length};return ie.addModule=function(t){Zt.push(t)},ie.addModule(style.register),ie.data=function(){var t,e,n,s,a,r,i={functions:[],options:state.option};ie.errors.length&&(i.errors=ie.errors),state.jsonMode&&(i.json=!0);var o=state.funct["(scope)"].getImpliedGlobals();for(o.length>0&&(i.implieds=o),$t.length>0&&(i.urls=$t),r=state.funct["(scope)"].getUsedOrDefinedGlobals(),r.length>0&&(i.globals=r),n=1;n<Bt.length;n+=1){for(e=Bt[n],t={},s=0;s<Gt.length;s+=1)t[Gt[s]]=[];for(s=0;s<Gt.length;s+=1)0===t[Gt[s]].length&&delete t[Gt[s]];t.name=e["(name)"],t.param=e["(params)"],t.line=e["(line)"],t.character=e["(character)"],t.last=e["(last)"],t.lastcharacter=e["(lastcharacter)"],t.metrics={complexity:e["(metrics)"].ComplexityCount,parameters:e["(metrics)"].arity,statements:e["(metrics)"].statementCount},i.functions.push(t)}var u=state.funct["(scope)"].getUnuseds();u.length>0&&(i.unused=u);for(a in Ft)if("number"==typeof Ft[a]){i.member=Ft;break}return i},ie.jshint=ie,ie}();"object"==typeof exports&&exports&&(exports.JSHINT=JSHINT);