function File(e){this.converter=Converters.from();for(var t in e)this[t]=e[t];if(!this.fs)throw new Error("File must be initialized with fs object.");if(null==this.path&&null==this.converter)throw new Error("File must be initialized either with some content or a path to copy on write.")}var Converters=require("./converters");module.exports=File,Object.defineProperties(File.prototype,{write:{value:function(e){return this.converter&&this.converter.contentType?this.fs.write(e,this.buffer,"wb"):this.fs.copy(this.path,e)},writable:!0,configurable:!0,enumerable:!0}}),Object.keys(Converters.registry).forEach(function(e){Object.defineProperty(File.prototype,e,{get:function(){if(!this.converter)throw new Error("Content shelved at "+this.path);return this.converter=this.converter.to(e),this.converter.content},set:function(t){this.converter=Converters.from(t,e)},configurable:!0,enumerable:!0})});