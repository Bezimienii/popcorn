function escape(e){return e.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,"\\$&")}function globToRegExp(e){var r=e.replace(/(\*\*\/)|(\*)|(\?)|(.)/g,function(e,r,o,t,n){return r?"([^/\\\\]*(?:/|\\\\))*":o?"[^/\\\\]*?":t?"[^/\\\\]":escape(n)}),o=new RegExp("^"+r+"$");return o}function testRegExp(e){return function(r){return e.test(r)}}function compileGlob(e){return testRegExp(globToRegExp(e))}function compileGlobs(e){var r=returnFalse;return e.forEach(function(e){r=composeOr(r,compileGlob(e))}),r}function returnFalse(){return!1}function composeOr(e,r){return function(){return e.apply(this,arguments)||r.apply(this,arguments)}}function makeFilter(e,r){var o=isHidden;return(r||[]).forEach(function(e){o=composeOr(o,testRegExp(globToRegExp(e)))}),function(r,t){return"node_modules"===Path.basename(r)?null:o(Path.relative(e,r))?!!t.isDirectory()&&null:!t.isDirectory()}}var Path=require("path");exports.compileGlob=compileGlob,exports.compileGlobs=compileGlobs,exports.returnFalse=returnFalse,exports.composeOr=composeOr;var isHidden=testRegExp(globToRegExp("**/.*"));exports.makeFilter=makeFilter;