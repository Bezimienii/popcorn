montageDefine("5f1e513","lib/transform/css",{dependencies:["../rebase","csso","url2"],factory:function(r,e,n){function t(r,e,n){r.utf8=a(r.utf8,r,e),n&&n()}function a(r,e,n){if(n.noCss||!r.trim())return r;var t;try{t=u.parse(r)}catch(a){return n.out.warn("CSS parse error: "+e.path),n.out.warn(a.message),r}for(var s=[t];s.length;){var i,c=s.pop();if("uri"===c[0]){var f,p=c[1];if("raw"===p[0])f=p[1],i="";else{if("string"!==p[0]){n.out.warn("Unknown URI type:",p);continue}i=p[1].substring(0,1),f=p[1].substring(1,p[1].length-1),c[1]=p=["raw"]}p[1]=i+o(f,e,n)+i}for(var l=c.length-1;l>=0;l--)Array.isArray(c[l])&&s.push(c[l])}try{t=u.compress(t)}catch(w){n.out.warn("CSS compression error: "+e.path),n.out.warn(w.message)}try{t=u.cleanInfo(t)}catch(w){n.out.warn("CSS clean info error: "+e.path),n.out.warn(w.message)}return u.translate(t)}function s(r,e,n){var t,a,s,o,c,f,p;try{c=u.parse(e)}catch(l){return n.out.warn("CSS parse error prevented embedded CSS to be resolved: "+r),e}if(c)for(t=[c];t.length;){if(o=t.pop(),"uri"===o[0]){if(s=o[1],"raw"===s[0])f=s[1],a="";else{if("string"!==s[0]){n.out.warn("Unknown URI type:",s);continue}a=s[1].substring(0,1),f=s[1].substring(1,s[1].length-1),o[1]=s=["raw"]}f.indexOf(":")===-1&&(s[1]=a+i.resolve(r,f)+a)}for(p=o.length-1;p>=0;p--)Array.isArray(o[p])&&t.push(o[p])}try{c=u.compress(c)}catch(w){n.out.warn("CSS compression error: "),n.out.warn(w.message)}try{c=u.cleanInfo(c)}catch(w){n.out.warn("CSS clean info error:"),n.out.warn(w.message)}return u.translate(c)}var o=r("../rebase"),u=r("csso"),i=r("url2");n.exports=t,t.rebase=a,t.resolve=s}});