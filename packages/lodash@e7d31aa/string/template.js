function template(e,r,t){var n=templateSettings.imports._.templateSettings||templateSettings;t&&isIterateeCall(e,r,t)&&(r=t=null),e=baseToString(e),r=assignWith(baseAssign({},t||r),n,assignOwnDefaults);var a,i,s=assignWith(baseAssign({},r.imports),n.imports,assignOwnDefaults),l=keys(s),p=baseValues(s,l),u=0,g=r.interpolate||reNoMatch,o="__p += '",c=RegExp((r.escape||reNoMatch).source+"|"+g.source+"|"+(g===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(r.evaluate||reNoMatch).source+"|$","g"),_="sourceURL"in r?"//# sourceURL="+r.sourceURL+"\n":"";e.replace(c,function(r,t,n,s,l,p){return n||(n=s),o+=e.slice(u,p).replace(reUnescapedString,escapeStringChar),t&&(a=!0,o+="' +\n__e("+t+") +\n'"),l&&(i=!0,o+="';\n"+l+";\n__p += '"),n&&(o+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=p+r.length,r}),o+="';\n";var m=r.variable;m||(o="with (obj) {\n"+o+"\n}\n"),o=(i?o.replace(reEmptyStringLeading,""):o).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),o="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(i?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+o+"return __p\n}";var b=attempt(function(){return Function(l,_+"return "+o).apply(void 0,p)});if(b.source=o,isError(b))throw b;return b}var assignOwnDefaults=require("../internal/assignOwnDefaults"),assignWith=require("../internal/assignWith"),attempt=require("../utility/attempt"),baseAssign=require("../internal/baseAssign"),baseToString=require("../internal/baseToString"),baseValues=require("../internal/baseValues"),escapeStringChar=require("../internal/escapeStringChar"),isError=require("../lang/isError"),isIterateeCall=require("../internal/isIterateeCall"),keys=require("../object/keys"),reInterpolate=require("../internal/reInterpolate"),templateSettings=require("./templateSettings"),reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g;module.exports=template;