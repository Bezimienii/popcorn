function set(e,r,n){if(null==e)return e;var t=r+"";r=null!=e[t]||isKey(r,e)?[t]:toPath(r);for(var i=-1,l=r.length,s=l-1,u=e;null!=u&&++i<l;){var a=r[i];isObject(u)&&(i==s?u[a]=n:null==u[a]&&(u[a]=isIndex(r[i+1])?[]:{})),u=u[a]}return e}var isIndex=require("../internal/isIndex"),isKey=require("../internal/isKey"),isObject=require("../lang/isObject"),toPath=require("../internal/toPath");module.exports=set;