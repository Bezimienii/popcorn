montageDefine("aa4df19","lib/simple_api/simple_api_parser",{dependencies:["../tokenization/tokenizer","./tokenizer_proxy"],factory:function(e,t,n){"use strict";function i(){}var o=e("../tokenization/tokenizer"),s=e("./tokenizer_proxy"),a=n.exports=function(e){this.handlers={doctype:e.doctype||i,startTag:e.startTag||i,endTag:e.endTag||i,text:e.text||i,comment:e.comment||i}};a.prototype.parse=function(e){var t=null;this._reset(e);do t=this.tokenizerProxy.getNextToken(),t.type===o.CHARACTER_TOKEN||t.type===o.WHITESPACE_CHARACTER_TOKEN||t.type===o.NULL_CHARACTER_TOKEN?this.pendingText=(this.pendingText||"")+t.chars:(this._emitPendingText(),this._handleToken(t));while(t.type!==o.EOF_TOKEN)},a.prototype._handleToken=function(e){e.type===o.START_TAG_TOKEN?this.handlers.startTag(e.tagName,e.attrs,e.selfClosing):e.type===o.END_TAG_TOKEN?this.handlers.endTag(e.tagName):e.type===o.COMMENT_TOKEN?this.handlers.comment(e.data):e.type===o.DOCTYPE_TOKEN&&this.handlers.doctype(e.name,e.publicId,e.systemId)},a.prototype._reset=function(e){this.tokenizerProxy=new s(e),this.pendingText=null},a.prototype._emitPendingText=function(){null!==this.pendingText&&(this.handlers.text(this.pendingText),this.pendingText=null)}}});