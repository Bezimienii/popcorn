"use strict";function skip(){}var Tokenizer=require("../tokenization/tokenizer"),TokenizerProxy=require("./tokenizer_proxy"),SimpleApiParser=module.exports=function(e){this.handlers={doctype:e.doctype||skip,startTag:e.startTag||skip,endTag:e.endTag||skip,text:e.text||skip,comment:e.comment||skip}};SimpleApiParser.prototype.parse=function(e){var t=null;this._reset(e);do t=this.tokenizerProxy.getNextToken(),t.type===Tokenizer.CHARACTER_TOKEN||t.type===Tokenizer.WHITESPACE_CHARACTER_TOKEN||t.type===Tokenizer.NULL_CHARACTER_TOKEN?this.pendingText=(this.pendingText||"")+t.chars:(this._emitPendingText(),this._handleToken(t));while(t.type!==Tokenizer.EOF_TOKEN)},SimpleApiParser.prototype._handleToken=function(e){e.type===Tokenizer.START_TAG_TOKEN?this.handlers.startTag(e.tagName,e.attrs,e.selfClosing):e.type===Tokenizer.END_TAG_TOKEN?this.handlers.endTag(e.tagName):e.type===Tokenizer.COMMENT_TOKEN?this.handlers.comment(e.data):e.type===Tokenizer.DOCTYPE_TOKEN&&this.handlers.doctype(e.name,e.publicId,e.systemId)},SimpleApiParser.prototype._reset=function(e){this.tokenizerProxy=new TokenizerProxy(e),this.pendingText=null},SimpleApiParser.prototype._emitPendingText=function(){null!==this.pendingText&&(this.handlers.text(this.pendingText),this.pendingText=null)};