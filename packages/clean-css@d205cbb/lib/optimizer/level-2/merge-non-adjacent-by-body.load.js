montageDefine("d205cbb","lib/optimizer/level-2/merge-non-adjacent-by-body",{dependencies:["./is-mergeable","../level-1/sort-selectors","../level-1/tidy-rules","../../options/optimization-level","../../writer/one-time","../../writer/one-time","../../tokenizer/token"],factory:function(e,t,i){function n(e){return/\.|\*| :/.test(e)}function o(e){var t=g(e[1]);return t.indexOf("__")>-1||t.indexOf("--")>-1}function l(e){return e.replace(/--[^ ,>\+~:]+/g,"")}function r(e,t){var i=l(g(e[1]));for(var n in t){var o=t[n],r=l(g(o[1]));(r.indexOf(i)>-1||i.indexOf(r)>-1)&&delete t[n]}}function s(e,t){for(var i=t.options,l=i.level[d.Two].mergeSemantically,s=i.compatibility.selectors.adjacentSpace,p=i.level[d.One].selectorsSortingMethod,f=i.compatibility.selectors.mergeablePseudoClasses,b=i.compatibility.selectors.mergeablePseudoElements,y=i.compatibility.selectors.multiplePseudoMerging,h={},w=e.length-1;w>=0;w--){var z=e[w];if(z[0]==u.RULE){z[2].length>0&&!l&&n(g(z[1]))&&(h={}),z[2].length>0&&l&&o(z)&&r(z,h);var O=v(z[2]),x=h[O];x&&a(g(z[1]),f,b,y)&&a(g(x[1]),f,b,y)&&(z[2].length>0?(z[1]=m(x[1].concat(z[1]),!1,s,!1,t.warnings),z[1]=z[1].length>1?c(z[1],p):z[1]):z[1]=x[1].concat(z[1]),x[2]=[],h[O]=null),h[v(z[2])]=z}}}var a=e("./is-mergeable"),c=e("../level-1/sort-selectors"),m=e("../level-1/tidy-rules"),d=e("../../options/optimization-level").OptimizationLevel,v=e("../../writer/one-time").body,g=e("../../writer/one-time").rules,u=e("../../tokenizer/token");i.exports=s}});