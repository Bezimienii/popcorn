montageDefine("d205cbb","lib/optimizer/level-2/remove-unused-at-rules",{dependencies:["./properties/populate-components","../wrap-for-optimizing","../restore-from-optimizing","../../tokenizer/token"],factory:function(e,n,t){function o(e){return e.replace(y,"$2")}function i(e,n){r(e,f,l,n),r(e,s,u,n),r(e,c,p,n),r(e,g,m,n)}function r(e,n,t,o){var i,r,f,l,s,u,c={};for(s=0,u=e.length;s<u;s++)n(e[s],c);if(0!==Object.keys(c).length){a(e,t,c,o);for(i in c)for(r=c[i],s=0,u=r.length;s<u;s++)f=r[s],l=f[0]==w.AT_RULE?1:2,f[l]=[]}}function a(e,n,t,o){var i,r,f=n(t);for(i=0,r=e.length;i<r;i++)switch(e[i][0]){case w.RULE:f(e[i],o);break;case w.NESTED_BLOCK:a(e[i][2],n,t,o)}}function f(e,n){var t;e[0]==w.AT_RULE_BLOCK&&0===e[1][0][1].indexOf("@counter-style")&&(t=e[1][0][1].split(" ")[1],n[t]=n[t]||[],n[t].push(e))}function l(e){return function(n,t){var o,i,r,a;for(r=0,a=n[2].length;r<a;r++)o=n[2][r],"list-style"==o[1][1]&&(i=h(o),v([i],t.validator,t.warnings),i.components[0].value[0][1]in e&&delete e[o[2][1]],d([i])),"list-style-type"==o[1][1]&&o[2][1]in e&&delete e[o[2][1]]}}function s(e,n){var t,i,r,a;if(e[0]==w.AT_RULE_BLOCK&&"@font-face"==e[1][0][1])for(r=0,a=e[2].length;r<a;r++)if(t=e[2][r],"font-family"==t[1][1]){i=o(t[2][1].toLowerCase()),n[i]=n[i]||[],n[i].push(e);break}}function u(e){return function(n,t){var i,r,a,f,l,s,u,c;for(l=0,s=n[2].length;l<s;l++){if(i=n[2][l],"font"==i[1][1]){for(r=h(i),v([r],t.validator,t.warnings),a=r.components[6],u=0,c=a.value.length;u<c;u++)f=o(a.value[u][1].toLowerCase()),f in e&&delete e[f];d([r])}if("font-family"==i[1][1])for(u=2,c=i.length;u<c;u++)f=o(i[u][1].toLowerCase()),f in e&&delete e[f]}}}function c(e,n){var t;e[0]==w.NESTED_BLOCK&&b.test(e[1][0][1])&&(t=e[1][0][1].split(" ")[1],n[t]=n[t]||[],n[t].push(e))}function p(e){return function(n,t){var o,i,r,a,f,l,s;for(a=0,f=n[2].length;a<f;a++){if(o=n[2][a],L.test(o[1][1])){for(i=h(o),v([i],t.validator,t.warnings),r=i.components[7],l=0,s=r.value.length;l<s;l++)r.value[l][1]in e&&delete e[r.value[l][1]];d([i])}if(k.test(o[1][1]))for(l=2,s=o.length;l<s;l++)o[l][1]in e&&delete e[o[l][1]]}}}function g(e,n){var t;e[0]==w.AT_RULE&&0===e[1].indexOf("@namespace")&&(t=e[1].split(" ")[1],n[t]=n[t]||[],n[t].push(e))}function m(e){var n=new RegExp(Object.keys(e).join("\\||")+"\\|","g");return function(t){var o,i,r,a,f,l,s;for(a=0,f=t[1].length;a<f;a++)for(i=t[1][a],o=i[1].match(n),l=0,s=o.length;l<s;l++)r=o[l].substring(0,o[l].length-1),r in e&&delete e[r]}}var v=e("./properties/populate-components"),h=e("../wrap-for-optimizing").single,d=e("../restore-from-optimizing"),w=e("../../tokenizer/token"),k=/^(\-moz\-|\-o\-|\-webkit\-)?animation-name$/,L=/^(\-moz\-|\-o\-|\-webkit\-)?animation$/,b=/^@(\-moz\-|\-o\-|\-webkit\-)?keyframes /,y=/^(['"]?)(.*)\1$/;t.exports=i}});