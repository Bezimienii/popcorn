montageDefine("d205cbb","lib/optimizer/level-2/merge-media-queries",{dependencies:["./reorderable","./reorderable","./extract-properties","./rules-overlap","../../writer/one-time","../../options/optimization-level","../../tokenizer/token"],factory:function(e,r,o){function t(e,r){for(var o=r.options.level[p.Two].mergeSemantically,t=r.cache.specificity,a={},c=[],s=e.length-1;s>=0;s--){var u=e[s];if(u[0]==f.NESTED_BLOCK){var m=v(u[1]),d=a[m];d||(d=[],a[m]=d),d.push(s)}}for(var g in a){var b=a[g];e:for(var h=b.length-1;h>0;h--){var z=b[h],k=e[z],w=b[h-1],x=e[w];r:for(var y=1;y>=-1;y-=2){for(var S=1==y,D=S?z+1:w-1,E=S?w:z,L=S?1:-1,O=S?k:x,R=S?x:k,T=l(O);D!=E;){var q=l(e[D]);if(D+=L,!(o&&i(T,q,t)||n(T,q,t)))continue r}R[2]=S?O[2].concat(R[2]):R[2].concat(O[2]),O[2]=[],c.push(R);continue e}}}return c}function i(e,r,o){var t,i,n,l,v,p,f,s;for(v=0,p=e.length;v<p;v++)for(t=e[v],i=t[5],f=0,s=r.length;f<s;f++)if(n=r[f],l=n[5],c(i,l,!0)&&!a(t,n,o))return!1;return!0}var n=e("./reorderable").canReorder,a=e("./reorderable").canReorderSingle,l=e("./extract-properties"),c=e("./rules-overlap"),v=e("../../writer/one-time").rules,p=e("../../options/optimization-level").OptimizationLevel,f=e("../../tokenizer/token");o.exports=t}});