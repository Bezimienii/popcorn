function extractProperties(e){var r,t,o,i,n,a,s=[];if(e[0]==Token.RULE)for(r=!/[\.\+>~]/.test(serializeRules(e[1])),n=0,a=e[2].length;n<a;n++)t=e[2][n],t[0]==Token.PROPERTY&&(o=t[1][1],0!==o.length&&0!==o.indexOf("--")&&(i=serializeValue(t,n),s.push([o,i,findNameRoot(o),e[2][n],o+":"+i,e[1],r])));else if(e[0]==Token.NESTED_BLOCK)for(n=0,a=e[2].length;n<a;n++)s=s.concat(extractProperties(e[2][n]));return s}function findNameRoot(e){return"list-style"==e?e:e.indexOf("-radius")>0?"border-radius":"border-collapse"==e||"border-spacing"==e||"border-image"==e?e:0===e.indexOf("border-")&&/^border\-\w+\-\w+$/.test(e)?e.match(/border\-\w+/)[0]:0===e.indexOf("border-")&&/^border\-\w+$/.test(e)?"border":0===e.indexOf("text-")?e:"-chrome-"==e?e:e.replace(/^\-\w+\-/,"").match(/([a-zA-Z]+)/)[0].toLowerCase()}var Token=require("../../tokenizer/token"),serializeRules=require("../../writer/one-time").rules,serializeValue=require("../../writer/one-time").value;module.exports=extractProperties;