montageDefine("d205cbb","lib/reader/load-remote-resource",{dependencies:["http","https","url","../utils/is-http-resource","../utils/is-https-resource","../utils/override"],factory:function(t,e,o){function r(t,e,o,p){var d,h,f=e.protocol||e.hostname,m=!1;d=a(u.parse(t),e||{}),void 0!==e.hostname&&(d.protocol=e.protocol||c,d.path=d.href),h=f&&!l(f)||i(t)?s.get:n.get,h(d,function(s){var n,i=[];if(!m){if(s.statusCode<200||s.statusCode>399)return p(s.statusCode,null);if(s.statusCode>299)return n=u.resolve(t,s.headers.location),r(n,e,o,p);s.on("data",function(t){i.push(t.toString())}),s.on("end",function(){var t=i.join("");p(null,t)})}}).on("error",function(t){m||(m=!0,p(t.message,null))}).on("timeout",function(){m||(m=!0,p("timeout",null))}).setTimeout(o)}var s=t("http"),n=t("https"),u=t("url"),i=t("../utils/is-http-resource"),l=t("../utils/is-https-resource"),a=t("../utils/override"),c="http:";o.exports=r}});