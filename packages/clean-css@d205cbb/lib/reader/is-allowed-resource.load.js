montageDefine("d205cbb","lib/reader/is-allowed-resource",{dependencies:["path","url","../utils/is-remote-resource","../utils/has-protocol"],factory:function(e,r,t){function o(e,r,t){var i,c,f,h,p,d,m=!r;if(0===t.length)return!1;for(r&&!u(e)&&(e=a+e),i=r?n.parse(e).host:e,c=r?e:l.resolve(e),d=0;d<t.length;d++)f=t[d],h="!"==f[0],p=f.substring(1),m=h&&r&&s(p)?m&&!o(e,!0,[p]):!h||r||s(p)?h?m&&!0:"all"==f||(r&&"local"==f?m||!1:!(!r||"remote"!=f)||!(!r&&"remote"==f)&&(!r&&"local"==f||(f===i||(f===e||(!(!r||0!==c.indexOf(f))||(!r&&0===c.indexOf(l.resolve(f))||r!=s(p)&&(m&&!0))))))):m&&!o(e,!1,[p]);return m}function s(e){return i(e)||n.parse(a+"//"+e).host==e}var l=e("path"),n=e("url"),i=e("../utils/is-remote-resource"),u=e("../utils/has-protocol"),a="http:";t.exports=o}});