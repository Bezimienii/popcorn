montageDefine("d205cbb","lib/reader/rewrite-url",{dependencies:["path","url"],factory:function(e,r,t){function n(e,r){return r?u(e)&&!a(r.toBase)?e:a(e)||o(e)||i(e)?e:c(e)?"'"+e+"'":a(r.toBase)?v.resolve(r.toBase,e):l(r.absolute?f(e,r):s(e,r)):e}function u(e){return b.isAbsolute(e)}function o(e){return"#"==e[0]}function i(e){return/^\w+:\w+/.test(e)}function a(e){return/^[^:]+?:\/\//.test(e)||0===e.indexOf("//")}function c(e){return 0===e.indexOf("data:")}function f(e,r){return b.resolve(b.join(r.fromBase||"",e)).replace(r.toBase,"")}function s(e,r){return b.relative(r.toBase,b.join(r.fromBase||"",e))}function l(e){return k?e.replace(/\\/g,"/"):e}function p(e){return e.indexOf(w)>-1?x:e.indexOf(x)>-1?w:d(e)||B(e)?w:""}function d(e){return D.test(e)}function B(e){return $.test(e)}function m(e,r,t){var u=e.replace(y,"").replace(A,"").trim(),o=u.replace(h,"").replace(j,"").trim(),i=u[0]==w||u[0]==x?u[0]:p(o);return t?n(o,r):O+i+n(o,r)+i+g}var b=e("path"),v=e("url"),x='"',w="'",O="url(",g=")",h=/^["']/,j=/["']$/,$=/[\(\)]/,y=/^url\(/i,A=/\)$/,D=/\s/,k="win32"==process.platform;t.exports=m}});