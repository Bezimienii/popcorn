function write(t,e){return Promise.each(Object.values(e.files),function(t){if(!t.remove){var r=Location.toPath(t.buildLocation);e.out.status("Writing",r);var o=e.fs.directory(r);return e.fs.makeTree(o).then(function(){return t.write(r)["catch"](function(t){throw e.out.log("Can't write "+r,t.stack),t})})["catch"](function(t){console.error(t)})}}).then(function(){e.out.status()})}var Location=require("./location"),Promise=require("bluebird");module.exports=write;