function initProcesses(){var e;for(e=0;e<cpuLength;e++)processes[e]=Process.fork(path.resolve(__dirname,"process")),processes[e].on("message",function(e){callbacks[e.id](e.error,e.result),delete callbacks[e.id],pending--,pending||setTimeout(function(){pending||exports.kill()},1e3)})}var Process=require("child_process"),path=require("path"),cpuLength=require("os").cpus().length,processes=[],callbacks={},pending=0,id=0;exports.kill=function(){var e;for(e=0;e<processes.length;e++)processes[e].kill();processes=[]},exports.execute=function(e,s,r){pending++,id++,callbacks[id]=r,processes.length||initProcesses(),processes[id%processes.length].send({id:id,command:e,data:s})};