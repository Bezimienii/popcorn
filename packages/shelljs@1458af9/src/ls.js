function _ls(e,r){function a(r,a){return!!("."!==path.basename(r)[0]||e.all||"."===path.basename(a)[0]&&path.basename(a).length>1)&&("win"===common.platform&&(r=r.replace(/\\/g,"/")),c.push(r),!0)}e=common.parseOptions(e,{R:"recursive",A:"all",a:"all_deprecated"}),e.all_deprecated&&(common.log("ls: Option -a is deprecated. Use -A instead"),e.all=!0),r?"object"==typeof r?r=r:"string"==typeof r&&(r=[].slice.call(arguments,1)):r=["."];var c=[];return r.forEach(function(r){if(fs.existsSync(r)){var t=fs.statSync(r);if(t.isFile())return void a(r,r);if(t.isDirectory())return void fs.readdirSync(r).forEach(function(t){if(a(t,r)&&e.recursive){var i=_pwd();_cd("",r),fs.statSync(t).isDirectory()&&(c=c.concat(_ls("-R"+(e.all?"A":""),t+"/*"))),_cd("",i)}})}var i=path.basename(r),n=path.dirname(r);if(i.search(/\*/)>-1&&fs.existsSync(n)&&fs.statSync(n).isDirectory){var s=i.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\.|\+|\?)/g,"\\$1");return s="^"+s.replace(/\*/g,".*")+"$",void fs.readdirSync(n).forEach(function(r){if(r.match(new RegExp(s))){if(!a(path.normalize(n+"/"+r),i))return;if(e.recursive){var t=n+"/"+r;fs.lstatSync(t).isDirectory()&&(c=c.concat(_ls("-R"+(e.all?"A":""),t+"/*")))}}})}common.error("no such file or directory: "+r,!0)}),c}var path=require("path"),fs=require("fs"),common=require("./common"),_cd=require("./cd"),_pwd=require("./pwd");module.exports=_ls;