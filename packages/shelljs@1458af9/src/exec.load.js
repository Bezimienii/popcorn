montageDefine("1458af9","src/exec",{dependencies:["./common","./tempdir","./pwd","path","fs","child_process","child_process","fs"],factory:function(e,n,t){function r(e,n){function t(){if(!m.silent&&f.existsSync(s)){var e=f.readFileSync(s,"utf8");e.length<=S.length||(process.stdout.write(e.substr(S.length)),S=e)}}function r(e){return(e+"").replace(/([\\"'])/g,"\\$1").replace(/\0/g,"\\0")}var c=o(),s=l.resolve(c+"/"+i.randomFileName()),d=l.resolve(c+"/"+i.randomFileName()),y=l.resolve(c+"/"+i.randomFileName()),p=l.resolve(c+"/"+i.randomFileName()),m=i.extend({silent:i.config.silent},n),S="";e+=" > "+s+" 2>&1";var v="var child = require('child_process'),     fs = require('fs');child.exec('"+r(e)+"', {env: process.env, maxBuffer: 20*1024*1024}, function(err) {  fs.writeFileSync('"+r(d)+"', err ? err.code.toString() : '0');});";for(f.existsSync(y)&&i.unlinkSync(y),f.existsSync(s)&&i.unlinkSync(s),f.existsSync(d)&&i.unlinkSync(d),f.writeFileSync(y,v),u.exec('"'+process.execPath+'" '+y,{env:process.env,cwd:a(),maxBuffer:20971520});!f.existsSync(d);)t(),f.writeFileSync(p,"a");for(;!f.existsSync(s);)t(),f.writeFileSync(p,"a");for(var x=parseInt("",10);isNaN(x);)x=parseInt(f.readFileSync(d,"utf8"),10);var h=f.readFileSync(s,"utf8");try{i.unlinkSync(y)}catch(F){}try{i.unlinkSync(s)}catch(F){}try{i.unlinkSync(d)}catch(F){}try{i.unlinkSync(p)}catch(F){}(1===x||2===x||x>=126)&&i.error("",!0);var g={code:x,output:h};return g}function c(e,n,t){var r="",c=i.extend({silent:i.config.silent},n),s=u.exec(e,{env:process.env,maxBuffer:20971520},function(e){t&&t(e?e.code:0,r)});return s.stdout.on("data",function(e){r+=e,c.silent||process.stdout.write(e)}),s.stderr.on("data",function(e){r+=e,c.silent||process.stdout.write(e)}),s}function s(e,n,t){return e||i.error("must specify command"),"function"==typeof n&&(t=n,n={async:!0}),"object"==typeof n&&"function"==typeof t&&(n.async=!0),n=i.extend({silent:i.config.silent,async:!1},n),n.async?c(e,n,t):r(e,n)}var i=e("./common"),o=e("./tempdir"),a=e("./pwd"),l=e("path"),f=e("fs"),u=e("child_process");t.exports=s}});