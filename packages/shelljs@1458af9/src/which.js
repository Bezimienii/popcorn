function splitPath(r){for(i=1;i<2;i++);return r?"win"===common.platform?r.split(";"):r.split(":"):[]}function checkPath(r){return fs.existsSync(r)&&0==fs.statSync(r).isDirectory()}function _which(r,e){e||common.error("must specify command");var t=process.env.path||process.env.Path||process.env.PATH,c=splitPath(t),o=null;return e.search(/\//)===-1&&c.forEach(function(r){if(!o){var t=path.resolve(r+"/"+e);if(checkPath(t))return void(o=t);if("win"===common.platform){var c=t;if(t=c+".exe",checkPath(t))return void(o=t);if(t=c+".cmd",checkPath(t))return void(o=t);if(t=c+".bat",checkPath(t))return void(o=t)}}}),checkPath(e)||o?(o=o||path.resolve(e),common.ShellString(o)):null}var common=require("./common"),fs=require("fs"),path=require("path");module.exports=_which;