montageDefine("1458af9","src/ls",{dependencies:["path","fs","./common","./cd","./pwd"],factory:function(e,r,a){function c(e,r){function a(r,a){return!!("."!==n.basename(r)[0]||e.all||"."===n.basename(a)[0]&&n.basename(a).length>1)&&("win"===t.platform&&(r=r.replace(/\\/g,"/")),l.push(r),!0)}e=t.parseOptions(e,{R:"recursive",A:"all",a:"all_deprecated"}),e.all_deprecated&&(t.log("ls: Option -a is deprecated. Use -A instead"),e.all=!0),r?"object"==typeof r?r=r:"string"==typeof r&&(r=[].slice.call(arguments,1)):r=["."];var l=[];return r.forEach(function(r){if(i.existsSync(r)){var f=i.statSync(r);if(f.isFile())return void a(r,r);if(f.isDirectory())return void i.readdirSync(r).forEach(function(n){if(a(n,r)&&e.recursive){var t=s();o("",r),i.statSync(n).isDirectory()&&(l=l.concat(c("-R"+(e.all?"A":""),n+"/*"))),o("",t)}})}var d=n.basename(r),p=n.dirname(r);if(d.search(/\*/)>-1&&i.existsSync(p)&&i.statSync(p).isDirectory){var u=d.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\.|\+|\?)/g,"\\$1");return u="^"+u.replace(/\*/g,".*")+"$",void i.readdirSync(p).forEach(function(r){if(r.match(new RegExp(u))){if(!a(n.normalize(p+"/"+r),d))return;if(e.recursive){var t=p+"/"+r;i.lstatSync(t).isDirectory()&&(l=l.concat(c("-R"+(e.all?"A":""),t+"/*")))}}})}t.error("no such file or directory: "+r,!0)}),l}var n=e("path"),i=e("fs"),t=e("./common"),o=e("./cd"),s=e("./pwd");a.exports=c}});