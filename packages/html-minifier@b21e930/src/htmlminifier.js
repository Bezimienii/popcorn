"use strict";function trimWhitespace(e){return"string"!=typeof e?e:e.replace(/^[ \n\r\t\f]+/,"").replace(/[ \n\r\t\f]+$/,"")}function collapseWhitespaceAll(e){return e&&e.replace(/[ \n\r\t\f\xA0]+/g,function(e){return"\t"===e?"\t":e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")})}function collapseWhitespace(e,t,r,n,a){var i="",s="";return t.preserveLineBreaks&&(e=e.replace(/^[ \n\r\t\f]*?[\n\r][ \n\r\t\f]*/,function(){return i="\n",""}).replace(/[ \n\r\t\f]*?[\n\r][ \n\r\t\f]*$/,function(){return s="\n",""})),r&&(e=e.replace(/^[ \n\r\t\f\xA0]+/,function(e){var r=!i&&t.conservativeCollapse;return r&&"\t"===e?"\t":e.replace(/^[^\xA0]+/,"").replace(/(\xA0+)[^\xA0]+/g,"$1 ")||(r?" ":"")})),n&&(e=e.replace(/[ \n\r\t\f\xA0]+$/,function(e){var r=!s&&t.conservativeCollapse;return r&&"\t"===e?"\t":e.replace(/[^\xA0]+(\xA0+)/g," $1").replace(/[^\xA0]+$/,"")||(r?" ":"")})),a&&(e=collapseWhitespaceAll(e)),i+e+s}function collapseWhitespaceSmart(e,t,r,n){var a=t&&!selfClosingInlineTags(t);a&&!n.collapseInlineTagWhitespace&&(a="/"===t.charAt(0)?!inlineTags(t.slice(1)):!inlineTextTags(t));var i=r&&!selfClosingInlineTags(r);return i&&!n.collapseInlineTagWhitespace&&(i="/"===r.charAt(0)?!inlineTextTags(r.slice(1)):!inlineTags(r)),collapseWhitespace(e,n,a,i,t&&r)}function isConditionalComment(e){return/^\[if\s[^\]]+]|\[endif]$/.test(e)}function isIgnoredComment(e,t){for(var r=0,n=t.ignoreCustomComments.length;r<n;r++)if(t.ignoreCustomComments[r].test(e))return!0;return!1}function isEventAttribute(e,t){var r=t.customEventAttributes;if(r){for(var n=r.length;n--;)if(r[n].test(e))return!0;return!1}return/^on[a-z]{3,}$/.test(e)}function canRemoveAttributeQuotes(e){return/^[^ \t\n\f\r"'`=<>]+$/.test(e)}function attributesInclude(e,t){for(var r=e.length;r--;)if(e[r].name.toLowerCase()===t)return!0;return!1}function isAttributeRedundant(e,t,r,n){return r=r?trimWhitespace(r.toLowerCase()):"","script"===e&&"language"===t&&"javascript"===r||"form"===e&&"method"===t&&"get"===r||"input"===e&&"type"===t&&"text"===r||"script"===e&&"charset"===t&&!attributesInclude(n,"src")||"a"===e&&"name"===t&&attributesInclude(n,"id")||"area"===e&&"shape"===t&&"rect"===r}function isScriptTypeAttribute(e){return e=trimWhitespace(e.split(/;/,2)[0]).toLowerCase(),""===e||executableScriptsMimetypes(e)}function isExecutableScript(e,t){if("script"!==e)return!1;for(var r=0,n=t.length;r<n;r++){var a=t[r].name.toLowerCase();if("type"===a)return isScriptTypeAttribute(t[r].value)}return!0}function isStyleLinkTypeAttribute(e){return e=trimWhitespace(e).toLowerCase(),""===e||"text/css"===e}function isStyleSheet(e,t){if("style"!==e)return!1;for(var r=0,n=t.length;r<n;r++){var a=t[r].name.toLowerCase();if("type"===a)return isStyleLinkTypeAttribute(t[r].value)}return!0}function isBooleanAttribute(e,t){return isSimpleBoolean(e)||"draggable"===e&&!isBooleanValue(t)}function isUriTypeAttribute(e,t){return/^(?:a|area|link|base)$/.test(t)&&"href"===e||"img"===t&&/^(?:src|longdesc|usemap)$/.test(e)||"object"===t&&/^(?:classid|codebase|data|usemap)$/.test(e)||"q"===t&&"cite"===e||"blockquote"===t&&"cite"===e||("ins"===t||"del"===t)&&"cite"===e||"form"===t&&"action"===e||"input"===t&&("src"===e||"usemap"===e)||"head"===t&&"profile"===e||"script"===t&&("src"===e||"for"===e)}function isNumberTypeAttribute(e,t){return/^(?:a|area|object|button)$/.test(t)&&"tabindex"===e||"input"===t&&("maxlength"===e||"tabindex"===e)||"select"===t&&("size"===e||"tabindex"===e)||"textarea"===t&&/^(?:rows|cols|tabindex)$/.test(e)||"colgroup"===t&&"span"===e||"col"===t&&"span"===e||("th"===t||"td"===t)&&("rowspan"===e||"colspan"===e)}function isLinkType(e,t,r){if("link"!==e)return!1;for(var n=0,a=t.length;n<a;n++)if("rel"===t[n].name&&t[n].value===r)return!0}function isMediaQuery(e,t,r){return"media"===r&&(isLinkType(e,t,"stylesheet")||isStyleSheet(e,t))}function isSrcset(e,t){return"srcset"===e&&srcsetTags(t)}function cleanAttributeValue(e,t,r,n,a){if(r&&isEventAttribute(t,n))return r=trimWhitespace(r).replace(/^javascript:\s*/i,""),n.minifyJS(r,!0);if("class"===t)return r=trimWhitespace(r),r=n.sortClassName?n.sortClassName(r):collapseWhitespaceAll(r);if(isUriTypeAttribute(t,e))return r=trimWhitespace(r),isLinkType(e,a,"canonical")?r:n.minifyURLs(r);if(isNumberTypeAttribute(t,e))return trimWhitespace(r);if("style"===t)return r=trimWhitespace(r),r&&(/;$/.test(r)&&!/&#?[0-9a-zA-Z]+;$/.test(r)&&(r=r.replace(/\s*;$/,";")),r=unwrapInlineCSS(n.minifyCSS(wrapInlineCSS(r)))),r;if(isSrcset(t,e))r=trimWhitespace(r).split(/\s+,\s*|\s*,\s+/).map(function(e){var t=e,r="",a=e.match(/\s+([1-9][0-9]*w|[0-9]+(?:\.[0-9]+)?x)$/);if(a){t=t.slice(0,-a[0].length);var i=+a[1].slice(0,-1),s=a[1].slice(-1);1===i&&"x"===s||(r=" "+i+s)}return n.minifyURLs(t)+r}).join(", ");else if(isMetaViewport(e,a)&&"content"===t)r=r.replace(/\s+/g,"").replace(/[0-9]+\.[0-9]+/g,function(e){return(+e).toString()});else if(r&&n.customAttrCollapse&&n.customAttrCollapse.test(t))r=r.replace(/\n+|\r+|\s{2,}/g,"");else if("script"===e&&"type"===t)r=trimWhitespace(r.replace(/\s*;\s*/g,";"));else if(isMediaQuery(e,a,t))return r=trimWhitespace(r),unwrapMediaQuery(n.minifyCSS(wrapMediaQuery(r)));return r}function isMetaViewport(e,t){if("meta"!==e)return!1;for(var r=0,n=t.length;r<n;r++)if("name"===t[r].name&&"viewport"===t[r].value)return!0}function wrapInlineCSS(e){return"*{"+e+"}"}function unwrapInlineCSS(e){var t=e.match(/^\*\{([\s\S]*)\}$/);return t?t[1]:e}function wrapMediaQuery(e){return"@media "+e+"{a{top:0}}"}function unwrapMediaQuery(e){var t=e.match(/^@media ([\s\S]*?)\s*{[\s\S]*}$/);return t?t[1]:e}function cleanConditionalComment(e,t){return t.processConditionalComments?e.replace(/^(\[if\s[^\]]+]>)([\s\S]*?)(<!\[endif])$/,function(e,r,n,a){return r+minify(n,t,!0)+a}):e}function processScript(e,t,r){for(var n=0,a=r.length;n<a;n++)if("type"===r[n].name.toLowerCase()&&t.processScripts.indexOf(r[n].value)>-1)return minify(e,t);return e}function canRemoveParentTag(e,t){switch(e){case"html":case"head":return!0;case"body":return!headerTags(t);case"colgroup":return"col"===t;case"tbody":return"tr"===t}return!1}function isStartTagMandatory(e,t){switch(t){case"colgroup":return"colgroup"===e;case"tbody":return tableSectionTags(e)}return!1}function canRemovePrecedingTag(e,t){switch(e){case"html":case"head":case"body":case"colgroup":case"caption":return!0;case"li":case"optgroup":case"tr":return t===e;case"dt":case"dd":return descriptionTags(t);case"p":return pBlockTags(t);case"rb":case"rt":case"rp":return rubyTags(t);case"rtc":return rtcTag(t);case"option":return optionTag(t);case"thead":case"tbody":return tableContentTags(t);case"tfoot":return"tbody"===t;case"td":case"th":return cellTags(t)}return!1}function canDeleteEmptyAttribute(e,t,r,n){var a=!r||/^\s*$/.test(r);return!!a&&("function"==typeof n.removeEmptyAttributes?n.removeEmptyAttributes(t,e):"input"===e&&"value"===t||reEmptyAttribute.test(t))}function hasAttrName(e,t){for(var r=t.length-1;r>=0;r--)if(t[r].name===e)return!0;return!1}function canRemoveElement(e,t){switch(e){case"textarea":return!1;case"audio":case"script":case"video":if(hasAttrName("src",t))return!1;break;case"iframe":if(hasAttrName("src",t)||hasAttrName("srcdoc",t))return!1;break;case"object":if(hasAttrName("data",t))return!1;break;case"applet":if(hasAttrName("code",t))return!1}return!0}function canCollapseWhitespace(e){return!/^(?:script|style|pre|textarea)$/.test(e)}function canTrimWhitespace(e){return!/^(?:pre|textarea)$/.test(e)}function normalizeAttr(e,t,r,n){var a=n.caseSensitive?e.name:e.name.toLowerCase(),i=e.value;if(n.decodeEntities&&i&&(i=decode(i,{isAttributeValue:!0})),!(n.removeRedundantAttributes&&isAttributeRedundant(r,a,i,t)||n.removeScriptTypeAttributes&&"script"===r&&"type"===a&&isScriptTypeAttribute(i)||n.removeStyleLinkTypeAttributes&&("style"===r||"link"===r)&&"type"===a&&isStyleLinkTypeAttribute(i)||(i=cleanAttributeValue(r,a,i,n,t),n.removeEmptyAttributes&&canDeleteEmptyAttribute(r,a,i,n))))return n.decodeEntities&&i&&(i=i.replace(/&(#?[0-9a-zA-Z]+;)/g,"&amp;$1")),{attr:e,name:a,value:i}}function buildAttr(e,t,r,n,a){var i,s,o=e.name,c=e.value,l=e.attr,u=l.quote;if("undefined"==typeof c||r.removeAttributeQuotes&&!~c.indexOf(a)&&canRemoveAttributeQuotes(c))s=!n||t||/\/$/.test(c)?c+" ":c;else{if(!r.preventAttributesEscaping){if("undefined"==typeof r.quoteCharacter){var p=(c.match(/'/g)||[]).length,m=(c.match(/"/g)||[]).length;u=p<m?"'":'"'}else u="'"===r.quoteCharacter?"'":'"';c='"'===u?c.replace(/"/g,"&#34;"):c.replace(/'/g,"&#39;")}s=u+c+u,n||r.removeTagWhitespace||(s+=" ")}return"undefined"==typeof c||r.collapseBooleanAttributes&&isBooleanAttribute(o.toLowerCase(),c.toLowerCase())?(i=o,n||(i+=" ")):i=o+l.customAssign+s,l.customOpen+i+l.customClose}function identity(e){return e}function processOptions(e){if(["html5","includeAutoGeneratedTags"].forEach(function(t){t in e||(e[t]=!0)}),"function"!=typeof e.log&&(e.log=identity),e.canCollapseWhitespace||(e.canCollapseWhitespace=canCollapseWhitespace),e.canTrimWhitespace||(e.canTrimWhitespace=canTrimWhitespace),"ignoreCustomComments"in e||(e.ignoreCustomComments=[/^!/]),"ignoreCustomFragments"in e||(e.ignoreCustomFragments=[/<%[\s\S]*?%>/,/<\?[\s\S]*?\?>/]),e.minifyURLs||(e.minifyURLs=identity),"function"!=typeof e.minifyURLs){var t=e.minifyURLs;"string"==typeof t?t={site:t}:"object"!=typeof t&&(t={}),e.minifyURLs=function(r){try{return RelateUrl.relate(r,t)}catch(n){return e.log(n),r}}}if(e.minifyJS||(e.minifyJS=identity),"function"!=typeof e.minifyJS){var r=e.minifyJS;"object"!=typeof r&&(r={}),(r.parse||(r.parse={})).bare_returns=!1,e.minifyJS=function(t,n){var a=t.match(/^\s*<!--.*/),i=a?t.slice(a[0].length).replace(/\n\s*-->\s*$/,""):t;r.parse.bare_returns=n;var s=UglifyJS.minify(i,r);return s.error?(e.log(s.error),t):s.code.replace(/;$/,"")}}if(e.minifyCSS||(e.minifyCSS=identity),"function"!=typeof e.minifyCSS){var n=e.minifyCSS;"object"!=typeof n&&(n={}),e.minifyCSS=function(t){t=t.replace(/(url\s*\(\s*)("|'|)(.*?)\2(\s*\))/gi,function(t,r,n,a,i){return r+n+e.minifyURLs(a)+n+i});try{return new CleanCSS(n).minify(t).styles}catch(r){return e.log(r),t}}}}function uniqueId(e){var t;do t=Math.random().toString(36).replace(/^0\.[0-9]*/,"");while(~e.indexOf(t));return t}function createSortFns(e,t,r,n){function a(e){return e.map(function(e){return t.caseSensitive?e.name:e.name.toLowerCase()})}function i(e,t){return!t||e.indexOf(t)===-1}function s(e){return i(e,r)&&i(e,n)}function o(e){var r,n;new HTMLParser(e,{start:function(e,i){c&&(c[e]||(c[e]=new TokenChain),c[e].add(a(i).filter(s)));for(var o=0,u=i.length;o<u;o++){var p=i[o];l&&"class"===(t.caseSensitive?p.name:p.name.toLowerCase())?l.add(trimWhitespace(p.value).split(/[ \t\n\f\r]+/).filter(s)):t.processScripts&&"type"===p.name.toLowerCase()&&(r=e,n=p.value)}},end:function(){r=""},chars:function(e){t.processScripts&&specialContentTags(r)&&t.processScripts.indexOf(n)>-1&&o(e)}})}var c=t.sortAttributes&&Object.create(null),l=t.sortClassName&&new TokenChain,u=t.log;if(t.log=null,t.sortAttributes=!1,t.sortClassName=!1,o(minify(e,t)),t.log=u,c){var p=Object.create(null);for(var m in c)p[m]=c[m].createSorter();t.sortAttributes=function(e,t){var r=p[e];if(r){var n=Object.create(null),i=a(t);i.forEach(function(e,r){(n[e]||(n[e]=[])).push(t[r])}),r.sort(i).forEach(function(e,r){t[r]=n[e].shift()})}}}if(l){var f=l.createSorter();t.sortClassName=function(e){return f.sort(e.split(/[ \n\f\r]+/)).join(" ")}}}function minify(e,t,r){function n(e){return e.replace(d,function(e,t,r){var n=W[+r];return n[1]+g+r+n[2]})}function a(e,r){return t.canCollapseWhitespace(e,r,canCollapseWhitespace)}function i(e,r){return t.canTrimWhitespace(e,r,canTrimWhitespace)}function s(){for(var e=h.length-1;e>0&&!/^<[^\/!]/.test(h[e]);)e--;h.length=Math.max(0,e)}function o(){for(var e=h.length-1;e>0&&!/^<\//.test(h[e]);)e--;h.length=Math.max(0,e)}function c(e,r){for(var n=null;e>=0&&i(n);e--){var a=h[e],s=a.match(/^<\/([\w:-]+)>$/);if(s)n=s[1];else if(/>$/.test(a)||(h[e]=collapseWhitespaceSmart(a,null,r,t)))break}}function l(e){var t=h.length-1;if(h.length>1){var r=h[h.length-1];/^(?:<!|$)/.test(r)&&r.indexOf(f)===-1&&t--}c(t,e)}t=t||{};var u=[];processOptions(t),t.collapseWhitespace&&(e=collapseWhitespace(e,t,!0,!0));var p,m,f,g,d,h=[],v="",b="",y=[],S=[],T=[],C="",A="",x=Date.now(),w=[],W=[];e=e.replace(/<!-- htmlmin:ignore -->([\s\S]*?)<!-- htmlmin:ignore -->/g,function(r,n){if(!f){f=uniqueId(e);var a=new RegExp("^"+f+"([0-9]+)$");t.ignoreCustomComments?t.ignoreCustomComments.push(a):t.ignoreCustomComments=[a]}var i="<!--"+f+w.length+"-->";return w.push(n),i});var k=t.ignoreCustomFragments.map(function(e){return e.source});if(k.length){var M=new RegExp("\\s*(?:"+k.join("|")+")+\\s*","g");e=e.replace(M,function(r){if(!g){g=uniqueId(e),d=new RegExp("(\\s*)"+g+"([0-9]+)(\\s*)","g");var a=t.minifyCSS;a&&(t.minifyCSS=function(e){return a(n(e))});var i=t.minifyJS;i&&(t.minifyJS=function(e,t){return i(n(e),t)})}var s=g+W.length;return W.push(/^(\s*)[\s\S]*?(\s*)$/.exec(r)),"\t"+s+"\t"})}(t.sortAttributes&&"function"!=typeof t.sortAttributes||t.sortClassName&&"function"!=typeof t.sortClassName)&&createSortFns(e,t,f,g),new HTMLParser(e,{partialMarkup:r,html5:t.html5,start:function(e,r,n,c,f){var d=e.toLowerCase();if("svg"===d){u.push(t);var x={};for(var w in t)x[w]=t[w];x.keepClosingSlash=!0,x.caseSensitive=!0,t=x}e=t.caseSensitive?e:d,b=e,p=e,inlineTextTags(e)||(v=""),m=!1,y=r;var W=t.removeOptionalTags;if(W){var k=htmlTags(e);k&&canRemoveParentTag(C,e)&&s(),C="",k&&canRemovePrecedingTag(A,e)&&(o(),W=!isStartTagMandatory(A,e)),A=""}t.collapseWhitespace&&(S.length||l(e),i(e,r)&&!S.length||S.push(e),a(e,r)&&!T.length||T.push(e));var M="<"+e,L=c&&t.keepClosingSlash;h.push(M),t.sortAttributes&&t.sortAttributes(e,r);for(var $=[],E=r.length,F=!0;--E>=0;){var R=normalizeAttr(r[E],r,e,t);R&&($.unshift(buildAttr(R,L,t,F,g)),F=!1)}$.length>0?(h.push(" "),h.push.apply(h,$)):W&&optionalStartTags(e)&&(C=e),h.push(h.pop()+(L?"/":"")+">"),f&&!t.includeAutoGeneratedTags&&(s(),C="")},end:function(e,r,n){var a=e.toLowerCase();"svg"===a&&(t=u.pop()),e=t.caseSensitive?e:a,t.collapseWhitespace&&(S.length?e===S[S.length-1]&&S.pop():l("/"+e),T.length&&e===T[T.length-1]&&T.pop());var i=!1;e===b&&(b="",i=!m),t.removeOptionalTags&&(i&&topLevelTags(C)&&s(),C="",!htmlTags(e)||!A||trailingTags(A)||"p"===A&&pInlineTags(e)||o(),A=optionalEndTags(e)?e:""),t.removeEmptyElements&&i&&canRemoveElement(e,r)?(s(),C="",A=""):(n&&!t.includeAutoGeneratedTags?A="":h.push("</"+e+">"),p="/"+e,inlineTags(e)?i&&(v+="|"):v="")},chars:function(e,r,n){if(r=""===r?"comment":r,n=""===n?"comment":n,t.decodeEntities&&e&&!specialContentTags(b)&&(e=decode(e)),t.collapseWhitespace){if(!S.length){if("comment"===r){var a=h[h.length-1];if(a.indexOf(f)===-1&&(a||(r=p),h.length>1&&(!a||!t.conservativeCollapse&&/ $/.test(v)))){var i=h.length-2;h[i]=h[i].replace(/\s+$/,function(t){return e=t+e,""})}}if(r)if("/nobr"===r||"wbr"===r){if(/^\s/.test(e)){for(var l=h.length-1;l>0&&0!==h[l].lastIndexOf("<"+r);)l--;c(l-1,"br")}}else inlineTextTags("/"===r.charAt(0)?r.slice(1):r)&&(e=collapseWhitespace(e,t,/(?:^|\s)$/.test(v)));e=r||n?collapseWhitespaceSmart(e,r,n,t):collapseWhitespace(e,t,!0,!0),!e&&/\s$/.test(v)&&r&&"/"===r.charAt(0)&&c(h.length-1,n)}T.length||"html"===n||r&&n||(e=collapseWhitespace(e,t,!1,!1,!0))}t.processScripts&&specialContentTags(b)&&(e=processScript(e,t,y)),isExecutableScript(b,y)&&(e=t.minifyJS(e)),isStyleSheet(b,y)&&(e=t.minifyCSS(e)),t.removeOptionalTags&&e&&(("html"===C||"body"===C&&!/^\s/.test(e))&&s(),C="",(compactTags(A)||looseTags(A)&&!/^\s/.test(e))&&o(),A=""),p=/^\s*$/.test(e)?r:"comment",t.decodeEntities&&e&&!specialContentTags(b)&&(e=e.replace(/&(#?[0-9a-zA-Z]+;)/g,"&amp$1").replace(/</g,"&lt;")),v+=e,e&&(m=!0),h.push(e)},comment:function(e,r){var n=r?"<!":"<!--",a=r?">":"-->";e=isConditionalComment(e)?n+cleanConditionalComment(e,t)+a:t.removeComments?isIgnoredComment(e,t)?"<!--"+e+"-->":"":n+e+a,t.removeOptionalTags&&e&&(C="",A=""),h.push(e)},doctype:function(e){h.push(t.useShortDoctype?"<!DOCTYPE html>":collapseWhitespaceAll(e))},customAttrAssign:t.customAttrAssign,customAttrSurround:t.customAttrSurround}),t.removeOptionalTags&&(topLevelTags(C)&&s(),A&&!trailingTags(A)&&o()),t.collapseWhitespace&&l("br");var L=joinResultSegments(h,t);return d&&(L=L.replace(d,function(e,r,n,a){var i=W[+n][0];return t.collapseWhitespace?("\t"!==r&&(i=r+i),"\t"!==a&&(i+=a),collapseWhitespace(i,{preserveLineBreaks:t.preserveLineBreaks,conservativeCollapse:!t.trimCustomFragments},/^[ \n\r\t\f]/.test(i),/[ \n\r\t\f]$/.test(i))):i})),f&&(L=L.replace(new RegExp("<!--"+f+"([0-9]+)-->","g"),function(e,t){return w[+t]})),t.log("minified in: "+(Date.now()-x)+"ms"),L}function joinResultSegments(e,t){var r,n=t.maxLineLength;if(n){for(var a,i=[],s="",o=0,c=e.length;o<c;o++)a=e[o],s.length+a.length<n?s+=a:(i.push(s.replace(/^\n/,"")),s=a);i.push(s),r=i.join("\n")}else r=e.join("");return t.collapseWhitespace?collapseWhitespace(r,t,!0,!0):r}var CleanCSS=require("clean-css"),decode=require("he").decode,HTMLParser=require("./htmlparser").HTMLParser,RelateUrl=require("relateurl"),TokenChain=require("./tokenchain"),UglifyJS=require("uglify-js"),utils=require("./utils"),createMapFromString=utils.createMapFromString,inlineTags=createMapFromString("a,abbr,acronym,b,bdi,bdo,big,button,cite,code,del,dfn,em,font,i,ins,kbd,mark,math,nobr,q,rt,rp,s,samp,small,span,strike,strong,sub,sup,svg,time,tt,u,var"),inlineTextTags=createMapFromString("a,abbr,acronym,b,big,del,em,font,i,ins,kbd,mark,nobr,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"),selfClosingInlineTags=createMapFromString("comment,img,input,wbr"),executableScriptsMimetypes=utils.createMap(["text/javascript","text/ecmascript","text/jscript","application/javascript","application/x-javascript","application/ecmascript"]),isSimpleBoolean=createMapFromString("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),isBooleanValue=createMapFromString("true,false"),srcsetTags=createMapFromString("img,source"),optionalStartTags=createMapFromString("html,head,body,colgroup,tbody"),optionalEndTags=createMapFromString("html,head,body,li,dt,dd,p,rb,rt,rtc,rp,optgroup,option,colgroup,caption,thead,tbody,tfoot,tr,td,th"),headerTags=createMapFromString("meta,link,script,style,template,noscript"),descriptionTags=createMapFromString("dt,dd"),pBlockTags=createMapFromString("address,article,aside,blockquote,details,div,dl,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,hr,main,menu,nav,ol,p,pre,section,table,ul"),pInlineTags=createMapFromString("a,audio,del,ins,map,noscript,video"),rubyTags=createMapFromString("rb,rt,rtc,rp"),rtcTag=createMapFromString("rb,rtc,rp"),optionTag=createMapFromString("option,optgroup"),tableContentTags=createMapFromString("tbody,tfoot"),tableSectionTags=createMapFromString("thead,tbody,tfoot"),cellTags=createMapFromString("td,th"),topLevelTags=createMapFromString("html,head,body"),compactTags=createMapFromString("html,body"),looseTags=createMapFromString("head,colgroup,caption"),trailingTags=createMapFromString("dt,thead"),htmlTags=createMapFromString("a,abbr,acronym,address,applet,area,article,aside,audio,b,base,basefont,bdi,bdo,bgsound,big,blink,blockquote,body,br,button,canvas,caption,center,cite,code,col,colgroup,command,content,data,datalist,dd,del,details,dfn,dialog,dir,div,dl,dt,element,em,embed,fieldset,figcaption,figure,font,footer,form,frame,frameset,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,i,iframe,image,img,input,ins,isindex,kbd,keygen,label,legend,li,link,listing,main,map,mark,marquee,menu,menuitem,meta,meter,multicol,nav,nobr,noembed,noframes,noscript,object,ol,optgroup,option,output,p,param,picture,plaintext,pre,progress,q,rp,rt,rtc,ruby,s,samp,script,section,select,shadow,small,source,spacer,span,strike,strong,style,sub,summary,sup,table,tbody,td,template,textarea,tfoot,th,thead,time,title,tr,track,tt,u,ul,var,video,wbr,xmp"),reEmptyAttribute=new RegExp("^(?:class|id|style|title|lang|dir|on(?:focus|blur|change|click|dblclick|mouse(?:down|up|over|move|out)|key(?:press|down|up)))$"),specialContentTags=createMapFromString("script,style");exports.minify=function(e,t){return minify(e,t)};